(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7937],{9511:function(e,t,s){Promise.resolve().then(s.bind(s,4652))},4652:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(7437),a=s(2265),n=s(9376),o=s(1466),i=s(7293),l=s(1817),c=s(7648);function d(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),[s,d]=(0,a.useState)("loading"),[m,u]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=t.get("mode"),s=t.get("oobCode");console.log("Verify Page:",{mode:e,oobCode:s}),"verifyEmail"===e&&s?x(s):(d("error"),u("Неверная ссылка для подтверждения email."))},[t]);let x=async t=>{try{let s=await (0,o.bX)(i.I,t);console.log("Email verification info:",s),await (0,o.iA)(i.I,t),d("success"),u("Ваш email успешно подтвержден! Теперь вы можете войти в систему."),setTimeout(()=>{e.push("/auth")},3e3)}catch(e){console.error("Error verifying email:",e),d("error"),"auth/invalid-action-code"===e.code?u("Срок действия ссылки истек или она недействительна. Попробуйте запросить новую."):"auth/user-disabled"===e.code?u("Ваш аккаунт заблокирован. Обратитесь к администратору."):u("Ошибка подтверждения email: ".concat(e.message))}};return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-64px)] bg-gray-50 p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-8 text-center",children:["loading"===s&&(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(l.Z,{className:"h-10 w-10 animate-spin text-orange-500 mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Подтверждение email..."}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Пожалуйста, подождите."})]}),"success"===s&&(0,r.jsxs)("div",{className:"text-green-600",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Email подтвержден!"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:m}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Перенаправление на страницу входа..."}),(0,r.jsx)(c.default,{href:"/auth",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Перейти к входу"})]}),"error"===s&&(0,r.jsxs)("div",{className:"text-red-600",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Ошибка подтверждения"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:m}),(0,r.jsx)(c.default,{href:"/auth",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Повторить вход"})]})]})})}},7293:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var r=s(738),a=s(1466);let n=(0,r.ZF)({apiKey:"AIzaSyC-9Ax8jlzWEIMIn1vZHsHEBjaMjEQoab0",authDomain:"hvostalert.firebaseapp.com",projectId:"hvostalert",storageBucket:"hvostalert.firebasestorage.app",messagingSenderId:"327489972186",appId:"1:327489972186:web:d3130d1ea4dad8db2982e3",measurementId:"G-QVFZLJEW1Z"}),o=(0,a.v0)(n)}},function(e){e.O(0,[2210,2972,80,2971,2117,1744],function(){return e(e.s=9511)}),_N_E=e.O()}]);