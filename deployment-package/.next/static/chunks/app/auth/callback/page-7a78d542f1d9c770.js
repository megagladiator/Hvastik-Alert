(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4453],{8168:function(e,r,t){Promise.resolve().then(t.bind(t,3224))},3224:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var s=t(7437),a=t(2265),n=t(9376),o=t(2141),c=t(6070),l=t(1817),u=t(1671);let i=(0,t(9205).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function d(){let e=(0,n.useRouter)();(0,n.useSearchParams)();let[r,t]=(0,a.useState)("loading"),[d,f]=(0,a.useState)("Обработка аутентификации...");return(0,a.useEffect)(()=>{(async()=>{try{let{data:r,error:s}=await o.O.auth.getSession();if(s){console.error("Auth callback error:",s),t("error"),f("Ошибка аутентификации: "+s.message);return}r.session?(t("success"),f("Успешная аутентификация!"),setTimeout(()=>{e.push("/cabinet")},2e3)):(t("error"),f("Сессия не найдена"))}catch(e){console.error("Unexpected error:",e),t("error"),f("Произошла неожиданная ошибка")}})()},[e]),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br ".concat((()=>{switch(r){case"loading":return"from-blue-50 to-indigo-100";case"success":return"from-green-50 to-emerald-100";case"error":return"from-red-50 to-orange-100"}})()," flex items-center justify-center p-4"),children:(0,s.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(c.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg",children:(()=>{switch(r){case"loading":return(0,s.jsx)(l.Z,{className:"w-8 h-8 text-blue-600 animate-spin"});case"success":return(0,s.jsx)(u.Z,{className:"w-8 h-8 text-green-600"});case"error":return(0,s.jsx)(i,{className:"w-8 h-8 text-red-600"})}})()}),(0,s.jsx)(c.ll,{className:"text-2xl font-bold text-gray-800",children:(()=>{switch(r){case"loading":return"Обработка аутентификации";case"success":return"Успешный вход";case"error":return"Ошибка аутентификации"}})()})]}),(0,s.jsxs)(c.aY,{className:"text-center",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:d}),"success"===r&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Перенаправление в личный кабинет..."}),"error"===r&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{onClick:()=>e.push("/auth"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Попробовать снова"}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg transition-colors",children:"На главную"})]})]})]})})}},6070:function(e,r,t){"use strict";t.d(r,{Ol:function(){return c},Zb:function(){return o},aY:function(){return u},ll:function(){return l}});var s=t(7437),a=t(2265),n=t(4508);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});u.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},2141:function(e,r,t){"use strict";t.d(r,{O:function(){return n},e:function(){return o}});var s=t(6580);let a="https://erjszhoaxapnkluezwpy.supabase.co",n=a.includes("placeholder")?null:(0,s.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVyanN6aG9heGFwbmtsdWV6d3B5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzOTg2MjUsImV4cCI6MjA3MTk3NDYyNX0.IvgGGZDzq-7YJZAGWBeqcyR5BL1fc6zBrhMa1qiE5Rs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"Content-Type":"application/json; charset=utf-8"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),o=n||{from:()=>({select:()=>({eq:()=>({order:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),single:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})}),insert:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})}),update:()=>({eq:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})})}),storage:{from:()=>({upload:()=>Promise.resolve({data:null,error:Error("Supabase Storage not configured")}),getPublicUrl:()=>({data:{publicUrl:"/placeholder.svg"}})})}}},4508:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(1994),a=t(3335);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}t(257)},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var s=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:u="",children:i,iconNode:d,...f}=e;return(0,s.createElement)("svg",{ref:r,...o,width:a,height:a,stroke:t,strokeWidth:l?24*Number(c)/Number(a):c,className:n("lucide",u),...f},[...d.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(i)?i:[i]])}),l=(e,r)=>{let t=(0,s.forwardRef)((t,o)=>{let{className:l,...u}=t;return(0,s.createElement)(c,{ref:o,iconNode:r,className:n("lucide-".concat(a(e)),l),...u})});return t.displayName="".concat(e),t}},1671:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1817:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[6580,7432,2971,2117,1744],function(){return e(e.s=8168)}),_N_E=e.O()}]);