(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1786],{7083:function(e,t,r){Promise.resolve().then(r.bind(r,9140))},9140:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),n=r(2265),a=r(2869),l=r(5186),i=r(6070),o=r(5974),c=r(9322),d=r(2660),u=r(8906),m=r(8997);let f=(0,r(9205).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var x=r(7648),h=r(9376),g=r(2141);function p(){var e,t;let r=(0,h.useParams)(),p=(0,h.useSearchParams)(),[b,v]=(0,n.useState)(null),[j,y]=(0,n.useState)(null),[N,w]=(0,n.useState)(!0),[_,S]=(0,n.useState)(""),[k,C]=(0,n.useState)(null),I=(0,n.useRef)(null),E=p.get("chatId"),O=p.get("from"),{messages:Z,chat:D,loading:R,sending:z,error:P,sendMessage:A}=function(e){let{petId:t,currentUserId:r,existingChatId:s}=e,[a,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),[f,x]=(0,n.useState)(null),[h,p]=(0,n.useState)(null),b=(0,n.useCallback)(async()=>{if(g.O&&r)try{if(s){let e=await fetch("/api/chats?userId=".concat(r,"&chatId=").concat(s));if(e.ok){let{data:t}=await e.json(),r=null==t?void 0:t.find(e=>e.id===s);if(r)return o(r),r}}let e=await fetch("/api/chats?userId=".concat(r,"&petId=").concat(t));if(e.ok){let{data:s}=await e.json(),n=null==s?void 0:s.find(e=>e.pet_id===t&&(e.user_id===r||e.owner_id===r)&&"active"===e.status);if(n)return o(n),n}let{data:n,error:a}=await g.O.from("pets").select("user_id, status").eq("id",t).single();if(a||!n)throw Error("Питомец не найден");if("active"!==n.status)throw Error("Питомец больше не доступен для общения");if(n.user_id===r)throw Error("Вы не можете создать чат с самим собой");let{data:{user:l}}=await g.O.auth.getUser();if((null==l?void 0:l.email)==="agentgl007@gmail.com")throw Error("Администратор может только просматривать существующие чаты");let i=await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({petId:t,userId:r,ownerId:n.user_id})});if(!i.ok){let e=await i.json();throw Error(e.error||"Ошибка создания чата")}let{data:c}=await i.json();return o(c),c}catch(e){return console.error("Error getting/creating chat:",e),x(e instanceof Error?e.message:"Ошибка при создании чата"),null}},[t,r,s]),v=(0,n.useCallback)(async e=>{try{let t=await fetch("/api/messages?chatId=".concat(e));if(!t.ok){let e=await t.json();console.error("Error loading messages:",e),x("Ошибка при загрузке сообщений");return}let{data:r}=await t.json();l(r||[])}catch(e){console.error("Error loading messages:",e),x(e instanceof Error?e.message:"Ошибка при загрузке сообщений")}},[]),j=(0,n.useCallback)(e=>{g.O&&p(g.O.channel("chat:".concat(e)).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:"chat_id=eq.".concat(e)},e=>{let t=e.new;l(e=>e.some(e=>e.id===t.id)?e:[...e,t])}).subscribe())},[]),y=(0,n.useCallback)(async e=>{if(i&&r){m(!0);try{let t=i.owner_id===r?"owner":"user";if(i.id.startsWith("demo-")){let s={id:"demo-".concat(Date.now()),chat_id:i.id,sender_id:r,sender_type:t,text:e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};l(e=>[...e,s])}else{let s=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:i.id,senderId:r,senderType:t,text:e})});if(!s.ok){let e=await s.json();console.error("Error sending message to database:",e),x("Ошибка при отправке сообщения");return}let{data:n}=await s.json();n&&l(e=>e.some(e=>e.id===n.id)?e:[...e,n])}}catch(e){console.error("Error sending message:",e),x("Ошибка при отправке сообщения")}finally{m(!1)}}},[i,r]);return(0,n.useEffect)(()=>{let e=async()=>{d(!0),x(null);let e=await b();e?(await v(e.id),j(e.id)):o({id:"demo-".concat(t),pet_id:t,user_id:r||"",owner_id:"demo-owner",status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),d(!1)};r&&e()},[r,b,v,j,t]),(0,n.useEffect)(()=>()=>{h&&(null===g.O||void 0===g.O||g.O.removeChannel(h))},[h]),{messages:a,chat:i,loading:c,sending:u,error:f,sendMessage:y}}({petId:r.id,currentUserId:null==j?void 0:j.id,existingChatId:E});(0,n.useEffect)(()=>{(async()=>{if(!g.O)return;let{data:{user:e}}=await g.O.auth.getUser();if(y(e),!e){v({id:r.id,type:"lost",name:"Рекс",breed:"Лабрадор",contact_name:"Анна",contact_phone:"+7 (918) 123-45-67",contact_email:"anna.petowner@example.com",photo_url:"/placeholder.svg?height=50&width=50"}),w(!1);return}try{let{data:e,error:t}=await g.O.from("pets").select("*").eq("id",r.id).single();if(t||!e){console.error("Error fetching pet:",t),window.location.href="/search";return}"active"!==e.status?(v(null),C("Этот питомец больше не доступен для общения")):v(e)}catch(e){console.error("Error:",e),C("Ошибка при загрузке информации о питомце")}finally{w(!1)}})()},[r.id]),(0,n.useEffect)(()=>{T()},[Z]);let T=()=>{var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},V=async e=>{e.preventDefault(),_.trim()&&j&&(await A(_),S(""))},W=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});return N?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Загружаем чат..."})]})}):k?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,s.jsx)(c.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Питомец недоступен"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:k}),(0,s.jsx)(x.default,{href:"/search",children:(0,s.jsx)(a.z,{className:"bg-orange-500 hover:bg-orange-600",children:"Найти других питомцев"})})]})}):b?j?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex flex-col",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(x.default,{href:"admin"===O?"/admin/chats":"/chats",children:(0,s.jsxs)(a.z,{variant:"ghost",size:"sm",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"admin"===O?"К админ-панели":"К чатам"]})}),(0,s.jsx)(x.default,{href:"/pet/".concat(b.id),children:(0,s.jsx)(a.z,{variant:"outline",size:"sm",children:"К объявлению"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:b.photo_url||"/placeholder.svg?height=40&width=40",alt:b.name,className:"w-10 h-10 rounded-full object-cover"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"font-semibold text-gray-900",children:[b.name," • ",b.breed]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:b.contact_name})]}),(0,s.jsx)(o.C,{variant:"lost"===b.type?"destructive":"default",className:"lost"===b.type?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:"lost"===b.type?"Потерялся":"Найден"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Номер телефона скрыт для безопасности"]})]})})}),(0,s.jsxs)("div",{className:"flex-1 container mx-auto px-4 py-6 max-w-4xl",children:[(0,s.jsxs)(i.Zb,{className:"h-full flex flex-col",children:[(0,s.jsxs)(i.Ol,{className:"border-b",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.ll,{className:"flex items-center",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5 mr-2 text-orange-500"}),"Чат с владельцем"]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Обсудите детали и договоритесь о встрече"})]}),(0,s.jsx)(x.default,{href:"admin"===O?"/admin/chats":"/chats",children:(0,s.jsxs)(a.z,{variant:"outline",size:"sm",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"admin"===O?"К админ-панели":"К чатам"]})})]}),(0,s.jsx)("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"\uD83C\uDFE0 Владелец питомца"}),(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,s.jsx)("strong",{className:"text-yellow-600",children:"Email:"})," ",(0,s.jsx)("span",{className:"text-yellow-600 font-medium",children:(null==D?void 0:D.owner_email)||b.contact_email||"Не указан"})]}),(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,s.jsx)("strong",{children:"Имя:"})," ",b.contact_name]})]})]})}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"\uD83D\uDC64 Абонент"}),(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,s.jsx)("strong",{className:"text-yellow-600",children:"Email:"})," ",(0,s.jsx)("span",{className:"text-yellow-600 font-medium",children:(null==D?void 0:D.user_email)||"Загружается..."})]}),(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,s.jsx)("strong",{children:"Имя:"})," ",(null==D?void 0:D.user_id)===(null==j?void 0:j.id)?(null==j?void 0:null===(e=j.user_metadata)||void 0===e?void 0:e.full_name)||"Не указано":(null==D?void 0:null===(t=D.user_email)||void 0===t?void 0:t.split("@")[0])||"Не указано"]})]})]})}),(0,s.jsx)("div",{className:"pt-2 border-t border-blue-200",children:(0,s.jsxs)("p",{className:"text-xs text-blue-600 text-center",children:["\uD83D\uDC3E ",(0,s.jsx)("strong",{children:"Питомец:"})," ",b.name," • ",b.breed]})})]})})]}),(0,s.jsxs)(i.aY,{className:"flex-1 flex flex-col p-0",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 max-h-96",children:[R?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),(0,s.jsx)("span",{className:"ml-2 text-gray-600",children:"Загружаем сообщения..."})]}):0===Z.length?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsxs)("div",{className:"text-center text-gray-500",children:[(0,s.jsx)(m.Z,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"Начните разговор первым!"}),(0,s.jsx)("p",{className:"text-sm",children:"Напишите сообщение владельцу питомца"})]})}):Z.map(e=>{let t=e.sender_id===(null==j?void 0:j.id),r="owner"===e.sender_type,n=t?"Вы":r?"".concat(b.contact_name," (владелец)"):"Абонент";return(0,s.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-xs lg:max-w-md ".concat(t?"items-end":"items-start"," flex flex-col"),children:[!t&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-1 ml-1 flex items-center",children:[(0,s.jsx)("span",{className:"mr-1",children:r?"\uD83C\uDFE0":"\uD83D\uDC64"}),n]}),(0,s.jsxs)("div",{className:"px-4 py-2 rounded-lg ".concat(t?"bg-orange-500 text-white":r?"bg-green-100 text-green-900 border border-green-200":"bg-blue-100 text-blue-900 border border-blue-200"),children:[(0,s.jsx)("p",{className:"text-sm",children:e.text}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat(t?"text-orange-100":r?"text-green-600":"text-blue-600"),children:W(e.created_at)})]}),t&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1 mr-1 flex items-center",children:[(0,s.jsx)("span",{className:"mr-1",children:"\uD83D\uDC64"}),"Вы"]})]})},e.id)}),(0,s.jsx)("div",{ref:I})]}),(0,s.jsxs)("div",{className:"border-t p-4",children:[P&&(0,s.jsx)("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-600",children:P})}),(null==j?void 0:j.email)==="agentgl007@gmail.com"?(0,s.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-yellow-800 font-medium",children:"Режим администратора"}),(0,s.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Вы можете только просматривать переписку. Отправка сообщений отключена."})]})]})}):(0,s.jsxs)("form",{onSubmit:V,className:"flex gap-2",children:[(0,s.jsx)(l.I,{value:_,onChange:e=>S(e.target.value),placeholder:"Напишите сообщение...",className:"flex-1",disabled:z}),(0,s.jsx)(a.z,{type:"submit",className:"bg-orange-500 hover:bg-orange-600",disabled:z||!_.trim(),children:z?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,s.jsx)(f,{className:"h-4 w-4"})})]})]})]})]}),(0,s.jsx)(i.Zb,{className:"mt-4 border-yellow-200 bg-yellow-50",children:(0,s.jsxs)(i.aY,{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Правила безопасности"}),(0,s.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,s.jsx)("li",{children:"• Встречайтесь в людных местах"}),(0,s.jsx)("li",{children:"• Не передавайте деньги заранее"}),(0,s.jsx)("li",{children:"• Проверьте документы на животное"}),(0,s.jsx)("li",{children:"• Возьмите с собой друга или родственника"})]})]})})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,s.jsx)(c.Z,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Требуется авторизация"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Для отправки сообщений необходимо войти в систему"}),(0,s.jsx)(x.default,{href:"/auth",children:(0,s.jsx)(a.z,{className:"bg-orange-500 hover:bg-orange-600",children:"Войти в систему"})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Загружаем чат..."})]})})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var s=r(7437);r(2265);var n=r(535),a=r(4508);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:r}),t),...n})}},2869:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var s=r(7437),n=r(2265),a=r(7053),l=r(535),i=r(4508);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...d})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var s=r(7437),n=r(2265),a=r(4508);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(7437),n=r(2265),a=r(4508);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},2141:function(e,t,r){"use strict";r.d(t,{O:function(){return a},e:function(){return l}});var s=r(6580);let n="https://erjszhoaxapnkluezwpy.supabase.co",a=n.includes("placeholder")?null:(0,s.eI)(n,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVyanN6aG9heGFwbmtsdWV6d3B5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzOTg2MjUsImV4cCI6MjA3MTk3NDYyNX0.IvgGGZDzq-7YJZAGWBeqcyR5BL1fc6zBrhMa1qiE5Rs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"Content-Type":"application/json; charset=utf-8"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),l=a||{from:()=>({select:()=>({eq:()=>({order:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),single:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})}),insert:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})}),update:()=>({eq:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})})}),storage:{from:()=>({upload:()=>Promise.resolve({data:null,error:Error("Supabase Storage not configured")}),getPublicUrl:()=>({data:{publicUrl:"/placeholder.svg"}})})}}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}r(257)},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:r,strokeWidth:o?24*Number(i)/Number(n):i,className:a("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:a("lucide-".concat(n(e)),o),...c})});return r.displayName="".concat(e),r}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9322:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8997:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(2972),n=r.n(s)},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8575:function(e,t,r){"use strict";r.d(t,{F:function(){return a},e:function(){return l}});var s=r(2265);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}function l(...e){return s.useCallback(a(...e),e)}},7053:function(e,t,r){"use strict";r.d(t,{Z8:function(){return l},g7:function(){return i},sA:function(){return c}});var s=r(2265),n=r(8575),a=r(7437);function l(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...a}=e;if(s.isValidElement(r)){let e,l;let i=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,o=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==s.Fragment&&(o.ref=t?(0,n.F)(t,i):i),s.cloneElement(r,o)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:n,...l}=e,i=s.Children.toArray(n),o=i.find(d);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,a.jsx)(t,{...l,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var i=l("Slot"),o=Symbol("radix.slottable");function c(e){let t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=o,t}function d(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},535:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var s=r(1994);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,l=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,o=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let a=n(t)||n(s);return l[e][a]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,o,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[6580,7432,2972,2971,2117,1744],function(){return e(e.s=7083)}),_N_E=e.O()}]);