(()=>{var e={};e.id=4476,e.ids=[4476],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},58359:()=>{},93739:()=>{},60200:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>q,patchFetch:()=>S,requestAsyncStorage:()=>v,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{POST:()=>b});var o=t(73278),a=t(45002),n=t(54877),u=t(71309),i=t(30460),p=t(6005);let f=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),(0,p.createHash)("sha1").update(e).digest()},c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,l=function(e){let r;if(!("string"==typeof e&&c.test(e)))throw TypeError("Invalid UUID");return Uint8Array.of((r=parseInt(e.slice(0,8),16))>>>24,r>>>16&255,r>>>8&255,255&r,(r=parseInt(e.slice(9,13),16))>>>8,255&r,(r=parseInt(e.slice(14,18),16))>>>8,255&r,(r=parseInt(e.slice(19,23),16))>>>8,255&r,(r=parseInt(e.slice(24,36),16))/1099511627776&255,r/4294967296&255,r>>>24&255,r>>>16&255,r>>>8&255,255&r)},d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function g(e,r,t,s){return function(e,r,t,s,o,a){let n="string"==typeof t?function(e){let r=new Uint8Array((e=unescape(encodeURIComponent(e))).length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t);return r}(t):t,u="string"==typeof s?l(s):s;if("string"==typeof s&&(s=l(s)),s?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let i=new Uint8Array(16+n.length);if(i.set(u),i.set(n,u.length),(i=r(i))[6]=15&i[6]|80,i[8]=63&i[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=i[e];return o}return function(e,r=0){return(d[e[r+0]]+d[e[r+1]]+d[e[r+2]]+d[e[r+3]]+"-"+d[e[r+4]]+d[e[r+5]]+"-"+d[e[r+6]]+d[e[r+7]]+"-"+d[e[r+8]]+d[e[r+9]]+"-"+d[e[r+10]]+d[e[r+11]]+d[e[r+12]]+d[e[r+13]]+d[e[r+14]]+d[e[r+15]]).toLowerCase()}(i)}(0,f,e,r,t,s)}g.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",g.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";let h=e=>e?g(e,"6ba7b810-9dad-11d1-80b4-00c04fd430c8"):null;async function b(e){try{if(!i.p)return u.NextResponse.json({error:"Админский клиент Supabase не настроен"},{status:500});let{petId:r,userId:t,status:s}=await e.json(),o=h(t),{data:a,error:n}=await i.p.from("pets").update({status:s}).eq("id",r).eq("user_id",o).select();if(n)return console.error("Supabase error:",n),u.NextResponse.json({error:n.message},{status:400});if(!a||0===a.length)return u.NextResponse.json({error:"Объявление не найдено или у вас нет прав для его изменения"},{status:404});return u.NextResponse.json({data:a[0]})}catch(e){return console.error("API error:",e),u.NextResponse.json({error:e.message},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api-backup/pets/archive/route",pathname:"/api-backup/pets/archive",filename:"route",bundlePath:"app/api-backup/pets/archive/route"},resolvedPagePath:"D:\\DATA\\Hvastik-Alert\\app\\api-backup\\pets\\archive\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:v,staticGenerationAsyncStorage:x,serverHooks:y}=m,q="/api-backup/pets/archive/route";function S(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:x})}},30460:(e,r,t)=>{"use strict";t.d(r,{O:()=>u,p:()=>n});var s=t(52418);let o="https://erjszhoaxapnkluezwpy.supabase.co",a=process.env.SUPABASE_SERVICE_ROLE_KEY,n=o&&a?(0,s.eI)(o,a,{auth:{autoRefreshToken:!1,persistSession:!1}}):null,u=n||{from:()=>({select:()=>({eq:()=>({order:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),single:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})}),insert:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),single:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})}),update:()=>({eq:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})})}),auth:{admin:{listUsers:()=>Promise.resolve({data:{users:[]},error:Error("Supabase not configured")}),getUserByEmail:()=>Promise.resolve({data:{user:null},error:Error("Supabase not configured")})}}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7787,4833,2418],()=>t(60200));module.exports=s})();