(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},94892:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(83389),r(13973),r(90996);var a=r(30170),s=r(45002),n=r(83876),l=r.n(n),i=r(66299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,83389)),"D:\\DATA\\Hvastik-Alert\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13973)),"D:\\DATA\\Hvastik-Alert\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,68199)),"D:\\DATA\\Hvastik-Alert\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\DATA\\Hvastik-Alert\\app\\admin\\page.tsx"],u="/admin/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9578:(e,t,r)=>{Promise.resolve().then(r.bind(r,77259))},77259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>aw});var a,s,n,l=r(97247),i=r(28964),o=r(58053),d=r(27757),c=r(34178),u=r(38146),m=r(70170),x=r(44538),p=r(8749),f=r(26323);let h=(0,f.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var g=r(62752),j=r(69964),y=r(92448);function v(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(null),[s,n]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[f,v]=(0,i.useState)([50]),[w,b]=(0,i.useState)(null),[N,k]=(0,i.useState)(!0),C="00000000-0000-0000-0000-000000000001",_=async()=>{k(!0);try{if(!y.O){console.warn("Supabase not configured, using default settings"),v([50]),b("/placeholder.svg?height=1080&width=1920");return}let{data:e,error:t}=await y.O.from("app_settings").select("*").eq("id",C).single();t?(console.error("Error fetching app settings:",t),v([50]),b("/placeholder.svg?height=1080&width=1920")):e&&(console.log("Fetched settings from database:",e),v([e.background_darkening_percentage]),e.background_image_url?(console.log("Setting current image URL from database:",e.background_image_url),b(e.background_image_url)):(console.log("No background image URL in database, using fallback"),b("/view-cats-dogs-showing-friendship (1) — копия.jpg")))}finally{k(!1)}},R=async()=>{if(!e){alert("Пожалуйста, выберите изображение для загрузки.");return}n(!0),u(!1);try{let t=`background-${Date.now()}.${e.name.split(".").pop()}`,r=`/${t}`,{error:a}=await y.O.from("app_settings").update({background_image_url:r,updated_at:new Date().toISOString()}).eq("id",C);a?(console.error("Error updating app settings in DB:",a),alert("Ошибка сохранения URL изображения в базе данных.")):(b(r),alert("Изображение успешно установлено как фон! (Для полной функциональности нужно настроить Supabase Storage)"),u(!0))}catch(e){console.error("Unexpected error during upload:",e),alert("Произошла непредвиденная ошибка.")}finally{n(!1)}},D=e=>{b(e),a(e)},E=async()=>{try{if(!y.O){alert("Supabase не настроен. Настройки не могут быть сохранены.");return}let e=r||w;if(!e){alert("Выберите изображение для сохранения.");return}console.log("Saving settings to database:",{imageUrl:e,darkeningPercentage:f[0],settingsRowId:C});let t={background_image_url:e,background_darkening_percentage:f[0],updated_at:new Date().toISOString()};console.log("Update data:",t);let{error:s}=await y.O.from("app_settings").update(t).eq("id",C);s?(console.error("Error saving settings:",s),alert("Ошибка сохранения настроек в базе данных.")):(b(e),a(null),console.log("Settings saved successfully"),alert("Настройки успешно сохранены! Теперь нажмите 'Обновить настройки' чтобы применить изменения на главной странице."))}catch(e){console.error("Unexpected error during save:",e),alert("Произошла непредвиденная ошибка при сохранении.")}},S=async()=>{try{console.log("Starting settings refresh..."),console.log("Current image URL before refresh:",w),await _(),console.log("Current image URL after fetchSettings:",w),window.dispatchEvent(new CustomEvent("settingsUpdated")),console.log("Settings update event dispatched"),(await fetch("/api/refresh-settings",{method:"POST",headers:{"Content-Type":"application/json"}})).ok?alert("Настройки успешно обновлены! Главная страница автоматически обновится."):alert("Настройки обновлены локально. Если главная страница не обновилась, перезагрузите её вручную.")}catch(e){console.error("Error refreshing settings:",e),window.dispatchEvent(new CustomEvent("settingsUpdated")),alert("Настройки обновлены локально. Если главная страница не обновилась, перезагрузите её вручную.")}},M=e=>{v(e)};return N?l.jsx(d.Zb,{className:"w-full max-w-md mx-auto",children:(0,l.jsxs)(d.aY,{className:"flex flex-col items-center justify-center p-8",children:[l.jsx(p.Z,{className:"h-8 w-8 animate-spin text-orange-500 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Загрузка настроек..."})]})}):(0,l.jsxs)(d.Zb,{className:"w-full max-w-md mx-auto",children:[l.jsx(d.Ol,{children:(0,l.jsxs)(d.ll,{className:"flex items-center gap-2",children:[l.jsx(h,{className:"h-5 w-5 text-orange-500"}),"Настройки фонового изображения"]})}),(0,l.jsxs)(d.aY,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(x._,{children:"Текущее фоновое изображение"}),l.jsx("div",{className:"relative w-full h-48 border border-gray-200 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:w?l.jsx("img",{src:w||"/placeholder.svg",alt:"Текущий фон",className:"object-cover w-full h-full"}):l.jsx("span",{className:"text-gray-500 text-sm",children:"Изображение не установлено"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(x._,{children:"Быстрый выбор изображения"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(o.z,{variant:"outline",onClick:()=>D("/kitten-dog-friendship.jpg"),className:"text-xs",children:"Кот и собака"}),l.jsx(o.z,{variant:"outline",onClick:()=>D("/view-cats-dogs-showing-friendship (1) — копия.jpg"),className:"text-xs",children:"Дружба животных"}),l.jsx(o.z,{variant:"outline",onClick:()=>D("/adorable-looking-kitten-with-dog.jpg"),className:"text-xs",children:"Милые питомцы"}),l.jsx(o.z,{variant:"outline",onClick:()=>D("/view-cats-dogs-being-friends.jpg"),className:"text-xs",children:"Друзья"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(x._,{htmlFor:"background-image-upload",children:"Загрузить новое изображение"}),l.jsx(m.I,{id:"background-image-upload",type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];r?(t(r),a(URL.createObjectURL(r)),u(!1)):(t(null),a(null))},className:"file:text-orange-500 file:font-semibold"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Поддерживаются форматы: JPG, PNG, WebP. Макс. размер 5МБ."})]}),r&&(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(x._,{children:"Предварительный просмотр нового изображения"}),l.jsx("div",{className:"relative w-full h-48 border border-gray-200 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:l.jsx("img",{src:r||"/placeholder.svg",alt:"Предварительный просмотр",className:"object-cover w-full h-full"})})]}),l.jsx(o.z,{onClick:R,disabled:!e||s,className:"w-full bg-orange-500 hover:bg-orange-600",children:s?(0,l.jsxs)(l.Fragment,{children:[l.jsx(p.Z,{className:"h-4 w-4 mr-2 animate-spin"})," Загрузка..."]}):c?(0,l.jsxs)(l.Fragment,{children:[l.jsx(g.Z,{className:"h-4 w-4 mr-2"})," Успешно загружено!"]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(j.Z,{className:"h-4 w-4 mr-2"})," Загрузить и установить"]})}),(0,l.jsxs)(o.z,{onClick:E,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:[l.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Сохранить настройки"]}),(0,l.jsxs)(o.z,{onClick:S,variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-50",children:[l.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Обновить настройки на главной странице"]}),(0,l.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,l.jsxs)(x._,{htmlFor:"darkening-input",children:["Процент затемнения фона: ",f[0],"%"]}),l.jsx(m.I,{id:"darkening-input",type:"range",min:0,max:100,step:1,value:f[0],onChange:e=>M([parseInt(e.target.value)]),className:"w-full"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Регулирует прозрачность черного слоя поверх фонового изображения. 0% - без затемнения, 100% - полностью черный."})]})]})]})}var w=r(57989);let b=(0,f.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),N=(0,f.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),k=(0,f.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var C=r(28339),_=r(88964);let R=(0,f.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),D=(0,f.Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var E=r(97792);let S=(0,f.Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),M=(0,f.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),A=(0,f.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var P=r(33841),O=r(50820);function T(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var I=r(93191),Z=r(20732),z=r(28469),L=r(22251);function F(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var U=r(63714),V=r(71310);function $(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var W=r(85090),q=r(24830),B="dismissableLayer.update",Y=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),H=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:d,onDismiss:c,...u}=e,m=i.useContext(Y),[x,p]=i.useState(null),f=x?.ownerDocument??globalThis?.document,[,h]=i.useState({}),g=(0,I.e)(t,e=>p(e)),j=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),v=j.indexOf(y),w=x?j.indexOf(x):-1,b=m.layersWithOutsidePointerEventsDisabled.size>0,N=w>=v,k=function(e,t=globalThis?.document){let r=(0,W.W)(e),a=i.useRef(!1),s=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let a=function(){G("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})},n={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=a,t.addEventListener("click",s.current,{once:!0})):a()}else t.removeEventListener("click",s.current);a.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,r=[...m.branches].some(e=>e.contains(t));!N||r||(n?.(e),d?.(e),e.defaultPrevented||c?.())},f),C=function(e,t=globalThis?.document){let r=(0,W.W)(e),a=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!a.current&&G("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;[...m.branches].some(e=>e.contains(t))||(o?.(e),d?.(e),e.defaultPrevented||c?.())},f);return(0,q.e)(e=>{w!==m.layers.size-1||(s?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},f),i.useEffect(()=>{if(x)return r&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(a=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),K(),()=>{r&&1===m.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=a)}},[x,f,r,m]),i.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),K())},[x,m]),i.useEffect(()=>{let e=()=>h({});return document.addEventListener(B,e),()=>document.removeEventListener(B,e)},[]),(0,l.jsx)(L.WV.div,{...u,ref:g,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:$(e.onFocusCapture,C.onFocusCapture),onBlurCapture:$(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:$(e.onPointerDownCapture,k.onPointerDownCapture)})});function K(){let e=new CustomEvent(B);document.dispatchEvent(e)}function G(e,t,r,{discrete:a}){let s=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?(0,L.jH)(s,n):s.dispatchEvent(n)}H.displayName="DismissableLayer",i.forwardRef((e,t)=>{let r=i.useContext(Y),a=i.useRef(null),s=(0,I.e)(t,a);return i.useEffect(()=>{let e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,l.jsx)(L.WV.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var X=0;function Q(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var J=r(60018),ee=r(27015),et=r(62246),er=r(62386),ea=r(72412),es=r(9537),en=r(30255),el="Popper",[ei,eo]=(0,Z.b)(el),[ed,ec]=ei(el),eu=e=>{let{__scopePopper:t,children:r}=e,[a,s]=i.useState(null);return(0,l.jsx)(ed,{scope:t,anchor:a,onAnchorChange:s,children:r})};eu.displayName=el;var em="PopperAnchor",ex=i.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:a,...s}=e,n=ec(em,r),o=i.useRef(null),d=(0,I.e)(t,o),c=i.useRef(null);return i.useEffect(()=>{let e=c.current;c.current=a?.current||o.current,e!==c.current&&n.onAnchorChange(c.current)}),a?null:(0,l.jsx)(L.WV.div,{...s,ref:d})});ex.displayName=em;var ep="PopperContent",[ef,eh]=ei(ep),eg=i.forwardRef((e,t)=>{let{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:n="center",alignOffset:o=0,arrowPadding:d=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:x="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:h,...g}=e,j=ec(ep,r),[y,v]=i.useState(null),w=(0,I.e)(t,e=>v(e)),[b,N]=i.useState(null),k=(0,en.t)(b),C=k?.width??0,_=k?.height??0,R="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(u)?u:[u],E=D.length>0,S={padding:R,boundary:D.filter(ew),altBoundary:E},{refs:M,floatingStyles:A,placement:P,isPositioned:O,middlewareData:T}=(0,et.YF)({strategy:"fixed",placement:a+("center"!==n?"-"+n:""),whileElementsMounted:(...e)=>(0,er.Me)(...e,{animationFrame:"always"===f}),elements:{reference:j.anchor},middleware:[(0,et.cv)({mainAxis:s+_,alignmentAxis:o}),c&&(0,et.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?(0,et.dr)():void 0,...S}),c&&(0,et.RR)({...S}),(0,et.dp)({...S,apply:({elements:e,rects:t,availableWidth:r,availableHeight:a})=>{let{width:s,height:n}=t.reference,l=e.floating.style;l.setProperty("--radix-popper-available-width",`${r}px`),l.setProperty("--radix-popper-available-height",`${a}px`),l.setProperty("--radix-popper-anchor-width",`${s}px`),l.setProperty("--radix-popper-anchor-height",`${n}px`)}}),b&&(0,et.x7)({element:b,padding:d}),eb({arrowWidth:C,arrowHeight:_}),p&&(0,et.Cp)({strategy:"referenceHidden",...S})]}),[Z,z]=eN(P),F=(0,W.W)(h);(0,es.b)(()=>{O&&F?.()},[O,F]);let U=T.arrow?.x,V=T.arrow?.y,$=T.arrow?.centerOffset!==0,[q,B]=i.useState();return(0,es.b)(()=>{y&&B(window.getComputedStyle(y).zIndex)},[y]),(0,l.jsx)("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:O?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[T.transformOrigin?.x,T.transformOrigin?.y].join(" "),...T.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(ef,{scope:r,placedSide:Z,onArrowChange:N,arrowX:U,arrowY:V,shouldHideArrow:$,children:(0,l.jsx)(L.WV.div,{"data-side":Z,"data-align":z,...g,ref:w,style:{...g.style,animation:O?void 0:"none"}})})})});eg.displayName=ep;var ej="PopperArrow",ey={top:"bottom",right:"left",bottom:"top",left:"right"},ev=i.forwardRef(function(e,t){let{__scopePopper:r,...a}=e,s=eh(ej,r),n=ey[s.placedSide];return(0,l.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(ea.f,{...a,ref:t,style:{...a.style,display:"block"}})})});function ew(e){return null!==e}ev.displayName=ej;var eb=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:a,middlewareData:s}=t,n=s.arrow?.centerOffset!==0,l=n?0:e.arrowWidth,i=n?0:e.arrowHeight,[o,d]=eN(r),c={start:"0%",center:"50%",end:"100%"}[d],u=(s.arrow?.x??0)+l/2,m=(s.arrow?.y??0)+i/2,x="",p="";return"bottom"===o?(x=n?c:`${u}px`,p=`${-i}px`):"top"===o?(x=n?c:`${u}px`,p=`${a.floating.height+i}px`):"right"===o?(x=`${-i}px`,p=n?c:`${m}px`):"left"===o&&(x=`${a.floating.width+i}px`,p=n?c:`${m}px`),{data:{x,y:p}}}});function eN(e){let[t,r="center"]=e.split("-");return[t,r]}var ek=r(28611),eC=r(67264),e_=r(98920),eR=r(69008),eD=r(58529),eE=r(78350),eS=["Enter"," "],eM=["ArrowUp","PageDown","End"],eA=["ArrowDown","PageUp","Home",...eM],eP={ltr:[...eS,"ArrowRight"],rtl:[...eS,"ArrowLeft"]},eO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eT="Menu",[eI,eZ,ez]=(0,U.B)(eT),[eL,eF]=(0,Z.b)(eT,[ez,eo,e_.Pc]),eU=eo(),eV=(0,e_.Pc)(),[e$,eW]=eL(eT),[eq,eB]=eL(eT),eY=e=>{let{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:n,modal:o=!0}=e,d=eU(t),[c,u]=i.useState(null),m=i.useRef(!1),x=(0,W.W)(n),p=(0,V.gm)(s);return i.useEffect(()=>{let e=()=>{m.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>m.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,l.jsx)(eu,{...d,children:(0,l.jsx)(e$,{scope:t,open:r,onOpenChange:x,content:c,onContentChange:u,children:(0,l.jsx)(eq,{scope:t,onClose:i.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:m,dir:p,modal:o,children:a})})})};eY.displayName=eT;var eH=i.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e,s=eU(r);return(0,l.jsx)(ex,{...s,...a,ref:t})});eH.displayName="MenuAnchor";var eK="MenuPortal",[eG,eX]=eL(eK,{forceMount:void 0}),eQ=e=>{let{__scopeMenu:t,forceMount:r,children:a,container:s}=e,n=eW(eK,t);return(0,l.jsx)(eG,{scope:t,forceMount:r,children:(0,l.jsx)(eC.z,{present:r||n.open,children:(0,l.jsx)(ek.h,{asChild:!0,container:s,children:a})})})};eQ.displayName=eK;var eJ="MenuContent",[e0,e1]=eL(eJ),e2=i.forwardRef((e,t)=>{let r=eX(eJ,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,n=eW(eJ,e.__scopeMenu),i=eB(eJ,e.__scopeMenu);return(0,l.jsx)(eI.Provider,{scope:e.__scopeMenu,children:(0,l.jsx)(eC.z,{present:a||n.open,children:(0,l.jsx)(eI.Slot,{scope:e.__scopeMenu,children:i.modal?(0,l.jsx)(e4,{...s,ref:t}):(0,l.jsx)(e5,{...s,ref:t})})})})}),e4=i.forwardRef((e,t)=>{let r=eW(eJ,e.__scopeMenu),a=i.useRef(null),s=(0,I.e)(t,a);return i.useEffect(()=>{let e=a.current;if(e)return(0,eD.Ry)(e)},[]),(0,l.jsx)(e6,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:F(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),e5=i.forwardRef((e,t)=>{let r=eW(eJ,e.__scopeMenu);return(0,l.jsx)(e6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),e3=(0,eR.Z8)("MenuContent.ScrollLock"),e6=i.forwardRef((e,t)=>{let{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:p,onDismiss:f,disableOutsideScroll:h,...g}=e,j=eW(eJ,r),y=eB(eJ,r),v=eU(r),w=eV(r),b=eZ(r),[N,k]=i.useState(null),C=i.useRef(null),_=(0,I.e)(t,C,j.onContentChange),R=i.useRef(0),D=i.useRef(""),E=i.useRef(0),S=i.useRef(null),M=i.useRef("right"),A=i.useRef(0),P=h?eE.Z:i.Fragment,O=e=>{let t=D.current+e,r=b().filter(e=>!e.disabled),a=document.activeElement,s=r.find(e=>e.ref.current===a)?.textValue,n=function(e,t,r){var a;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=(a=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(a+r)%e.length]));1===s.length&&(n=n.filter(e=>e!==r));let l=n.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}(r.map(e=>e.textValue),t,s),l=r.find(e=>e.textValue===n)?.ref.current;(function e(t){D.current=t,window.clearTimeout(R.current),""!==t&&(R.current=window.setTimeout(()=>e(""),1e3))})(t),l&&setTimeout(()=>l.focus())};i.useEffect(()=>()=>window.clearTimeout(R.current),[]),i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Q()),document.body.insertAdjacentElement("beforeend",e[1]??Q()),X++,()=>{1===X&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),X--}},[]);let T=i.useCallback(e=>M.current===S.current?.side&&function(e,t){return!!t&&function(e,t){let{x:r,y:a}=e,s=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let l=t[e],i=t[n],o=l.x,d=l.y,c=i.x,u=i.y;d>a!=u>a&&r<(c-o)*(a-d)/(u-d)+o&&(s=!s)}return s}({x:e.clientX,y:e.clientY},t)}(e,S.current?.area),[]);return(0,l.jsx)(e0,{scope:r,searchRef:D,onItemEnter:i.useCallback(e=>{T(e)&&e.preventDefault()},[T]),onItemLeave:i.useCallback(e=>{T(e)||(C.current?.focus(),k(null))},[T]),onTriggerLeave:i.useCallback(e=>{T(e)&&e.preventDefault()},[T]),pointerGraceTimerRef:E,onPointerGraceIntentChange:i.useCallback(e=>{S.current=e},[]),children:(0,l.jsx)(P,{...h?{as:e3,allowPinchZoom:!0}:void 0,children:(0,l.jsx)(J.M,{asChild:!0,trapped:s,onMountAutoFocus:F(n,e=>{e.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,l.jsx)(H,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:p,onDismiss:f,children:(0,l.jsx)(e_.fC,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:F(c,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,l.jsx)(eg,{role:"menu","aria-orientation":"vertical","data-state":tb(j.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:F(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,a=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&a&&O(e.key));let s=C.current;if(e.target!==s||!eA.includes(e.key))return;e.preventDefault();let n=b().filter(e=>!e.disabled).map(e=>e.ref.current);eM.includes(e.key)&&n.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(n)}),onBlur:F(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(R.current),D.current="")}),onPointerMove:F(e.onPointerMove,tC(e=>{let t=e.target,r=A.current!==e.clientX;if(e.currentTarget.contains(t)&&r){let t=e.clientX>A.current?"right":"left";M.current=t,A.current=e.clientX}}))})})})})})})});e2.displayName=eJ;var e8=i.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e;return(0,l.jsx)(L.WV.div,{role:"group",...a,ref:t})});e8.displayName="MenuGroup";var e7=i.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e;return(0,l.jsx)(L.WV.div,{...a,ref:t})});e7.displayName="MenuLabel";var e9="MenuItem",te="menu.itemSelect",tt=i.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:a,...s}=e,n=i.useRef(null),o=eB(e9,e.__scopeMenu),d=e1(e9,e.__scopeMenu),c=(0,I.e)(t,n),u=i.useRef(!1);return(0,l.jsx)(tr,{...s,ref:c,disabled:r,onClick:F(e.onClick,()=>{let e=n.current;if(!r&&e){let t=new CustomEvent(te,{bubbles:!0,cancelable:!0});e.addEventListener(te,e=>a?.(e),{once:!0}),(0,L.jH)(e,t),t.defaultPrevented?u.current=!1:o.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:F(e.onPointerUp,e=>{u.current||e.currentTarget?.click()}),onKeyDown:F(e.onKeyDown,e=>{let t=""!==d.searchRef.current;!r&&(!t||" "!==e.key)&&eS.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});tt.displayName=e9;var tr=i.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:a=!1,textValue:s,...n}=e,o=e1(e9,r),d=eV(r),c=i.useRef(null),u=(0,I.e)(t,c),[m,x]=i.useState(!1),[p,f]=i.useState("");return i.useEffect(()=>{let e=c.current;e&&f((e.textContent??"").trim())},[n.children]),(0,l.jsx)(eI.ItemSlot,{scope:r,disabled:a,textValue:s??p,children:(0,l.jsx)(e_.ck,{asChild:!0,...d,focusable:!a,children:(0,l.jsx)(L.WV.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...n,ref:u,onPointerMove:F(e.onPointerMove,tC(e=>{a?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:F(e.onPointerLeave,tC(e=>o.onItemLeave(e))),onFocus:F(e.onFocus,()=>x(!0)),onBlur:F(e.onBlur,()=>x(!1))})})})}),ta=i.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:a,...s}=e;return(0,l.jsx)(tu,{scope:e.__scopeMenu,checked:r,children:(0,l.jsx)(tt,{role:"menuitemcheckbox","aria-checked":tN(r)?"mixed":r,...s,ref:t,"data-state":tk(r),onSelect:F(s.onSelect,()=>a?.(!!tN(r)||!r),{checkForDefaultPrevented:!1})})})});ta.displayName="MenuCheckboxItem";var ts="MenuRadioGroup",[tn,tl]=eL(ts,{value:void 0,onValueChange:()=>{}}),ti=i.forwardRef((e,t)=>{let{value:r,onValueChange:a,...s}=e,n=(0,W.W)(a);return(0,l.jsx)(tn,{scope:e.__scopeMenu,value:r,onValueChange:n,children:(0,l.jsx)(e8,{...s,ref:t})})});ti.displayName=ts;var to="MenuRadioItem",td=i.forwardRef((e,t)=>{let{value:r,...a}=e,s=tl(to,e.__scopeMenu),n=r===s.value;return(0,l.jsx)(tu,{scope:e.__scopeMenu,checked:n,children:(0,l.jsx)(tt,{role:"menuitemradio","aria-checked":n,...a,ref:t,"data-state":tk(n),onSelect:F(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});td.displayName=to;var tc="MenuItemIndicator",[tu,tm]=eL(tc,{checked:!1}),tx=i.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:a,...s}=e,n=tm(tc,r);return(0,l.jsx)(eC.z,{present:a||tN(n.checked)||!0===n.checked,children:(0,l.jsx)(L.WV.span,{...s,ref:t,"data-state":tk(n.checked)})})});tx.displayName=tc;var tp=i.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e;return(0,l.jsx)(L.WV.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});tp.displayName="MenuSeparator";var tf=i.forwardRef((e,t)=>{let{__scopeMenu:r,...a}=e,s=eU(r);return(0,l.jsx)(ev,{...s,...a,ref:t})});tf.displayName="MenuArrow";var[th,tg]=eL("MenuSub"),tj="MenuSubTrigger",ty=i.forwardRef((e,t)=>{let r=eW(tj,e.__scopeMenu),a=eB(tj,e.__scopeMenu),s=tg(tj,e.__scopeMenu),n=e1(tj,e.__scopeMenu),o=i.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=n,u={__scopeMenu:e.__scopeMenu},m=i.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return i.useEffect(()=>m,[m]),i.useEffect(()=>{let e=d.current;return()=>{window.clearTimeout(e),c(null)}},[d,c]),(0,l.jsx)(eH,{asChild:!0,...u,children:(0,l.jsx)(tr,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":tb(r.open),...e,ref:(0,I.F)(t,s.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:F(e.onPointerMove,tC(t=>{n.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||o.current||(n.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:F(e.onPointerLeave,tC(e=>{m();let t=r.content?.getBoundingClientRect();if(t){let a=r.content?.dataset.side,s="right"===a,l=t[s?"left":"right"],i=t[s?"right":"left"];n.onPointerGraceIntentChange({area:[{x:e.clientX+(s?-5:5),y:e.clientY},{x:l,y:t.top},{x:i,y:t.top},{x:i,y:t.bottom},{x:l,y:t.bottom}],side:a}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>n.onPointerGraceIntentChange(null),300)}else{if(n.onTriggerLeave(e),e.defaultPrevented)return;n.onPointerGraceIntentChange(null)}})),onKeyDown:F(e.onKeyDown,t=>{let s=""!==n.searchRef.current;!e.disabled&&(!s||" "!==t.key)&&eP[a.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});ty.displayName=tj;var tv="MenuSubContent",tw=i.forwardRef((e,t)=>{let r=eX(eJ,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,n=eW(eJ,e.__scopeMenu),o=eB(eJ,e.__scopeMenu),d=tg(tv,e.__scopeMenu),c=i.useRef(null),u=(0,I.e)(t,c);return(0,l.jsx)(eI.Provider,{scope:e.__scopeMenu,children:(0,l.jsx)(eC.z,{present:a||n.open,children:(0,l.jsx)(eI.Slot,{scope:e.__scopeMenu,children:(0,l.jsx)(e6,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:u,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&c.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:F(e.onFocusOutside,e=>{e.target!==d.trigger&&n.onOpenChange(!1)}),onEscapeKeyDown:F(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:F(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=eO[o.dir].includes(e.key);t&&r&&(n.onOpenChange(!1),d.trigger?.focus(),e.preventDefault())})})})})})});function tb(e){return e?"open":"closed"}function tN(e){return"indeterminate"===e}function tk(e){return tN(e)?"indeterminate":e?"checked":"unchecked"}function tC(e){return t=>"mouse"===t.pointerType?e(t):void 0}tw.displayName=tv;var t_="DropdownMenu",[tR,tD]=(0,Z.b)(t_,[eF]),tE=eF(),[tS,tM]=tR(t_),tA=e=>{let{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:n,onOpenChange:o,modal:d=!0}=e,c=tE(t),u=i.useRef(null),[m,x]=(0,z.T)({prop:s,defaultProp:n??!1,onChange:o,caller:t_});return(0,l.jsx)(tS,{scope:t,triggerId:(0,ee.M)(),triggerRef:u,contentId:(0,ee.M)(),open:m,onOpenChange:x,onOpenToggle:i.useCallback(()=>x(e=>!e),[x]),modal:d,children:(0,l.jsx)(eY,{...c,open:m,onOpenChange:x,dir:a,modal:d,children:r})})};tA.displayName=t_;var tP="DropdownMenuTrigger",tO=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,n=tM(tP,r),i=tE(r);return(0,l.jsx)(eH,{asChild:!0,...i,children:(0,l.jsx)(L.WV.button,{type:"button",id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.open?n.contentId:void 0,"data-state":n.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:(0,I.F)(t,n.triggerRef),onPointerDown:T(e.onPointerDown,e=>{a||0!==e.button||!1!==e.ctrlKey||(n.onOpenToggle(),n.open||e.preventDefault())}),onKeyDown:T(e.onKeyDown,e=>{!a&&(["Enter"," "].includes(e.key)&&n.onOpenToggle(),"ArrowDown"===e.key&&n.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});tO.displayName=tP;var tT=e=>{let{__scopeDropdownMenu:t,...r}=e,a=tE(t);return(0,l.jsx)(eQ,{...a,...r})};tT.displayName="DropdownMenuPortal";var tI="DropdownMenuContent",tZ=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tM(tI,r),n=tE(r),o=i.useRef(!1);return(0,l.jsx)(e2,{id:s.contentId,"aria-labelledby":s.triggerId,...n,...a,ref:t,onCloseAutoFocus:T(e.onCloseAutoFocus,e=>{o.current||s.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:T(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,a=2===t.button||r;(!s.modal||a)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tZ.displayName=tI,i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(e8,{...s,...a,ref:t})}).displayName="DropdownMenuGroup";var tz=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(e7,{...s,...a,ref:t})});tz.displayName="DropdownMenuLabel";var tL=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(tt,{...s,...a,ref:t})});tL.displayName="DropdownMenuItem";var tF=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(ta,{...s,...a,ref:t})});tF.displayName="DropdownMenuCheckboxItem",i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(ti,{...s,...a,ref:t})}).displayName="DropdownMenuRadioGroup";var tU=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(td,{...s,...a,ref:t})});tU.displayName="DropdownMenuRadioItem";var tV=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(tx,{...s,...a,ref:t})});tV.displayName="DropdownMenuItemIndicator";var t$=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(tp,{...s,...a,ref:t})});t$.displayName="DropdownMenuSeparator",i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(tf,{...s,...a,ref:t})}).displayName="DropdownMenuArrow";var tW=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(ty,{...s,...a,ref:t})});tW.displayName="DropdownMenuSubTrigger";var tq=i.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...a}=e,s=tE(r);return(0,l.jsx)(tw,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tq.displayName="DropdownMenuSubContent";let tB=(0,f.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var tY=r(48799),tH=r(44161),tK=r(25008);i.forwardRef(({className:e,inset:t,children:r,...a},s)=>(0,l.jsxs)(tW,{ref:s,className:(0,tK.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[r,l.jsx(tB,{className:"ml-auto"})]})).displayName=tW.displayName,i.forwardRef(({className:e,...t},r)=>l.jsx(tq,{ref:r,className:(0,tK.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=tq.displayName;let tG=i.forwardRef(({className:e,sideOffset:t=4,...r},a)=>l.jsx(tT,{children:l.jsx(tZ,{ref:a,sideOffset:t,className:(0,tK.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));tG.displayName=tZ.displayName;let tX=i.forwardRef(({className:e,inset:t,...r},a)=>l.jsx(tL,{ref:a,className:(0,tK.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));function tQ(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}tX.displayName=tL.displayName,i.forwardRef(({className:e,children:t,checked:r,...a},s)=>(0,l.jsxs)(tF,{ref:s,className:(0,tK.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tV,{children:l.jsx(tY.Z,{className:"h-4 w-4"})})}),t]})).displayName=tF.displayName,i.forwardRef(({className:e,children:t,...r},a)=>(0,l.jsxs)(tU,{ref:a,className:(0,tK.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tV,{children:l.jsx(tH.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=tU.displayName,i.forwardRef(({className:e,inset:t,...r},a)=>l.jsx(tz,{ref:a,className:(0,tK.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r})).displayName=tz.displayName,i.forwardRef(({className:e,...t},r)=>l.jsx(t$,{ref:r,className:(0,tK.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=t$.displayName,"undefined"!=typeof window&&window.document&&window.document.createElement;var tJ=0;function t0(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var t1="Dialog",[t2,t4]=(0,Z.b)(t1),[t5,t3]=t2(t1),t6=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:n,modal:o=!0}=e,d=i.useRef(null),c=i.useRef(null),[u,m]=(0,z.T)({prop:a,defaultProp:s??!1,onChange:n,caller:t1});return(0,l.jsx)(t5,{scope:t,triggerRef:d,contentRef:c,contentId:(0,ee.M)(),titleId:(0,ee.M)(),descriptionId:(0,ee.M)(),open:u,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(e=>!e),[m]),modal:o,children:r})};t6.displayName=t1;var t8="DialogTrigger",t7=i.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=t3(t8,r),n=(0,I.e)(t,s.triggerRef);return(0,l.jsx)(L.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rj(s.open),...a,ref:n,onClick:tQ(e.onClick,s.onOpenToggle)})});t7.displayName=t8;var t9="DialogPortal",[re,rt]=t2(t9,{forceMount:void 0}),rr=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:s}=e,n=t3(t9,t);return(0,l.jsx)(re,{scope:t,forceMount:r,children:i.Children.map(a,e=>(0,l.jsx)(eC.z,{present:r||n.open,children:(0,l.jsx)(ek.h,{asChild:!0,container:s,children:e})}))})};rr.displayName=t9;var ra="DialogOverlay",rs=i.forwardRef((e,t)=>{let r=rt(ra,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,n=t3(ra,e.__scopeDialog);return n.modal?(0,l.jsx)(eC.z,{present:a||n.open,children:(0,l.jsx)(rl,{...s,ref:t})}):null});rs.displayName=ra;var rn=(0,eR.Z8)("DialogOverlay.RemoveScroll"),rl=i.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=t3(ra,r);return(0,l.jsx)(eE.Z,{as:rn,allowPinchZoom:!0,shards:[s.contentRef],children:(0,l.jsx)(L.WV.div,{"data-state":rj(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ri="DialogContent",ro=i.forwardRef((e,t)=>{let r=rt(ri,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,n=t3(ri,e.__scopeDialog);return(0,l.jsx)(eC.z,{present:a||n.open,children:n.modal?(0,l.jsx)(rd,{...s,ref:t}):(0,l.jsx)(rc,{...s,ref:t})})});ro.displayName=ri;var rd=i.forwardRef((e,t)=>{let r=t3(ri,e.__scopeDialog),a=i.useRef(null),s=(0,I.e)(t,r.contentRef,a);return i.useEffect(()=>{let e=a.current;if(e)return(0,eD.Ry)(e)},[]),(0,l.jsx)(ru,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tQ(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tQ(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:tQ(e.onFocusOutside,e=>e.preventDefault())})}),rc=i.forwardRef((e,t)=>{let r=t3(ri,e.__scopeDialog),a=i.useRef(!1),s=i.useRef(!1);return(0,l.jsx)(ru,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),ru=i.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:n,...o}=e,d=t3(ri,r),c=i.useRef(null),u=(0,I.e)(t,c);return i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t0()),document.body.insertAdjacentElement("beforeend",e[1]??t0()),tJ++,()=>{1===tJ&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tJ--}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(J.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:n,children:(0,l.jsx)(H,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":rj(d.open),...o,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rb,{titleId:d.titleId}),(0,l.jsx)(rN,{contentRef:c,descriptionId:d.descriptionId})]})]})}),rm="DialogTitle",rx=i.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=t3(rm,r);return(0,l.jsx)(L.WV.h2,{id:s.titleId,...a,ref:t})});rx.displayName=rm;var rp="DialogDescription",rf=i.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=t3(rp,r);return(0,l.jsx)(L.WV.p,{id:s.descriptionId,...a,ref:t})});rf.displayName=rp;var rh="DialogClose",rg=i.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=t3(rh,r);return(0,l.jsx)(L.WV.button,{type:"button",...a,ref:t,onClick:tQ(e.onClick,()=>s.onOpenChange(!1))})});function rj(e){return e?"open":"closed"}rg.displayName=rh;var ry="DialogTitleWarning",[rv,rw]=(0,Z.k)(ry,{contentName:ri,titleName:rm,docsSlug:"dialog"}),rb=({titleId:e})=>{let t=rw(ry),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},rN=({contentRef:e,descriptionId:t})=>{let r=rw("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return i.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(a)},[a,e,t]),null},rk=("undefined"!=typeof window&&window.document&&window.document.createElement,"AlertDialog"),[rC,r_]=(0,Z.b)(rk,[t4]),rR=t4(),rD=e=>{let{__scopeAlertDialog:t,...r}=e,a=rR(t);return(0,l.jsx)(t6,{...a,...r,modal:!0})};rD.displayName=rk,i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=rR(r);return(0,l.jsx)(t7,{...s,...a,ref:t})}).displayName="AlertDialogTrigger";var rE=e=>{let{__scopeAlertDialog:t,...r}=e,a=rR(t);return(0,l.jsx)(rr,{...a,...r})};rE.displayName="AlertDialogPortal";var rS=i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=rR(r);return(0,l.jsx)(rs,{...s,...a,ref:t})});rS.displayName="AlertDialogOverlay";var rM="AlertDialogContent",[rA,rP]=rC(rM),rO=(0,eR.sA)("AlertDialogContent"),rT=i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:a,...s}=e,n=rR(r),o=i.useRef(null),d=(0,I.e)(t,o),c=i.useRef(null);return(0,l.jsx)(rv,{contentName:rM,titleName:rI,docsSlug:"alert-dialog",children:(0,l.jsx)(rA,{scope:r,cancelRef:c,children:(0,l.jsxs)(ro,{role:"alertdialog",...n,...s,ref:d,onOpenAutoFocus:function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}(s.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,l.jsx)(rO,{children:a}),(0,l.jsx)(r$,{contentRef:o})]})})})});rT.displayName=rM;var rI="AlertDialogTitle",rZ=i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=rR(r);return(0,l.jsx)(rx,{...s,...a,ref:t})});rZ.displayName=rI;var rz="AlertDialogDescription",rL=i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=rR(r);return(0,l.jsx)(rf,{...s,...a,ref:t})});rL.displayName=rz;var rF=i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=rR(r);return(0,l.jsx)(rg,{...s,...a,ref:t})});rF.displayName="AlertDialogAction";var rU="AlertDialogCancel",rV=i.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=rP(rU,r),n=rR(r),i=(0,I.e)(t,s);return(0,l.jsx)(rg,{...n,...a,ref:i})});rV.displayName=rU;var r$=({contentRef:e})=>{let t=`\`${rM}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rM}\` by passing a \`${rz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rM}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};let rW=i.forwardRef(({className:e,...t},r)=>l.jsx(rS,{className:(0,tK.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rW.displayName=rS.displayName;let rq=i.forwardRef(({className:e,...t},r)=>(0,l.jsxs)(rE,{children:[l.jsx(rW,{}),l.jsx(rT,{ref:r,className:(0,tK.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rq.displayName=rT.displayName;let rB=({className:e,...t})=>l.jsx("div",{className:(0,tK.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});rB.displayName="AlertDialogHeader";let rY=({className:e,...t})=>l.jsx("div",{className:(0,tK.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rY.displayName="AlertDialogFooter";let rH=i.forwardRef(({className:e,...t},r)=>l.jsx(rZ,{ref:r,className:(0,tK.cn)("text-lg font-semibold",e),...t}));rH.displayName=rZ.displayName;let rK=i.forwardRef(({className:e,...t},r)=>l.jsx(rL,{ref:r,className:(0,tK.cn)("text-sm text-muted-foreground",e),...t}));rK.displayName=rL.displayName;let rG=i.forwardRef(({className:e,...t},r)=>l.jsx(rF,{ref:r,className:(0,tK.cn)((0,o.d)(),e),...t}));rG.displayName=rF.displayName;let rX=i.forwardRef(({className:e,...t},r)=>l.jsx(rV,{ref:r,className:(0,tK.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));function rQ({user:e,onRoleChange:t,onStatusChange:r,onDelete:a}){let[s,n]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),m=e=>{if(!e)return"Не указано";try{let t="string"==typeof e?new Date(e):e;if(isNaN(t.getTime()))return"Неверная дата";return t.toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Ошибка даты"}},x=async r=>{if(r!==e.role){u(!0);try{await t(e.id,r)}finally{u(!1)}}},p=async t=>{if(t!==e.status){u(!0);try{await r(e.id,t)}finally{u(!1)}}},f=async()=>{u(!0);try{await a(e.id),n(!1)}finally{u(!1)}},h=async e=>{u(!0);try{let t=await fetch("/api/users/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to send verification")}let r=await t.json();console.log("Verification link:",r.link),alert(`Ссылка для подтверждения email отправлена на ${e}`)}catch(e){console.error("Ошибка отправки подтверждения:",e),alert(`Ошибка: ${e.message}`)}finally{u(!1)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.Zb,{className:"hover:shadow-md transition-shadow",children:[l.jsx(d.Ol,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:l.jsx(R,{className:"h-5 w-5 text-orange-600"})}),(0,l.jsxs)("div",{children:[l.jsx(d.ll,{className:"text-lg",children:e.email}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(e=>{switch(e){case"admin":return l.jsx(_.C,{className:"bg-purple-100 text-purple-800",children:"Администратор"});case"user":return l.jsx(_.C,{className:"bg-blue-100 text-blue-800",children:"Пользователь"});default:return l.jsx(_.C,{variant:"secondary",children:"Неизвестно"})}})(e.role),(e=>{switch(e){case"active":return l.jsx(_.C,{className:"bg-green-100 text-green-800",children:"Активный"});case"banned":return l.jsx(_.C,{className:"bg-red-100 text-red-800",children:"Заблокирован"});case"inactive":return l.jsx(_.C,{className:"bg-yellow-100 text-yellow-800",children:"Неактивный"});default:return l.jsx(_.C,{variant:"secondary",children:"Неизвестно"})}})(e.status)]})]})]}),(0,l.jsxs)(tA,{children:[l.jsx(tO,{asChild:!0,children:l.jsx(o.z,{variant:"ghost",size:"sm",disabled:c,children:l.jsx(D,{className:"h-4 w-4"})})}),(0,l.jsxs)(tG,{align:"end",children:[l.jsx(tX,{onClick:()=>x("admin"===e.role?"user":"admin"),disabled:c,children:"admin"===e.role?(0,l.jsxs)(l.Fragment,{children:[l.jsx(E.Z,{className:"h-4 w-4 mr-2"}),"Сделать пользователем"]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(S,{className:"h-4 w-4 mr-2"}),"Сделать администратором"]})}),l.jsx(tX,{onClick:()=>p("active"===e.status?"banned":"active"),disabled:c,children:"active"===e.status?(0,l.jsxs)(l.Fragment,{children:[l.jsx(M,{className:"h-4 w-4 mr-2"}),"Заблокировать"]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Разблокировать"]})}),!e.emailVerified&&(0,l.jsxs)(tX,{onClick:()=>h(e.email),disabled:c,children:[l.jsx(A,{className:"h-4 w-4 mr-2"}),"Отправить подтверждение email"]}),(0,l.jsxs)(tX,{onClick:()=>n(!0),className:"text-red-600",disabled:c,children:[l.jsx(P.Z,{className:"h-4 w-4 mr-2"}),"Удалить"]})]})]})]})}),l.jsx(d.aY,{className:"pt-0",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(A,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Email подтвержден:"}),l.jsx("span",{className:e.emailVerified?"text-green-600":"text-red-600",children:e.emailVerified?"Да":"Нет"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(O.Z,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Регистрация:"}),l.jsx("span",{children:m(e.createdAt)})]}),e.lastLoginAt&&(0,l.jsxs)("div",{className:"flex items-center gap-2 col-span-2",children:[l.jsx(O.Z,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Последний вход:"}),l.jsx("span",{children:m(e.lastLoginAt)})]})]})})]}),l.jsx(rD,{open:s,onOpenChange:n,children:(0,l.jsxs)(rq,{children:[(0,l.jsxs)(rB,{children:[l.jsx(rH,{children:"Удалить пользователя?"}),(0,l.jsxs)(rK,{children:["Вы уверены, что хотите удалить пользователя ",l.jsx("strong",{children:e.email}),"? Это действие нельзя отменить. Все данные пользователя будут удалены навсегда."]})]}),(0,l.jsxs)(rY,{children:[l.jsx(rX,{children:"Отмена"}),l.jsx(rG,{onClick:f,className:"bg-red-600 hover:bg-red-700",disabled:c,children:c?"Удаление...":"Удалить"})]})]})})]})}rX.displayName=rV.displayName;var rJ=r(94049);let r0=(0,f.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var r1=r(49256),r2=r(37013);function r4({filters:e,onFiltersChange:t,onSearch:r,onReset:a}){let[c,u]=(0,i.useState)(e),x=(e,r)=>{let a={...c,[e]:r};u(a),t(a)};return(0,l.jsxs)(d.Zb,{className:"mb-6",children:[l.jsx(d.Ol,{children:(0,l.jsxs)(d.ll,{className:"flex items-center gap-2",children:[l.jsx(r0,{className:"h-5 w-5"}),"Фильтры и поиск"]})}),(0,l.jsxs)(d.aY,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Поиск по email"}),(0,l.jsxs)("div",{className:"relative",children:[l.jsx(r1.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(m.I,{placeholder:"Введите email пользователя...",value:c.search,onChange:e=>x("search",e.target.value),className:"pl-10"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Роль"}),(0,l.jsxs)(rJ.Ph,{value:c.role,onValueChange:e=>x("role",e),children:[l.jsx(rJ.i4,{children:l.jsx(rJ.ki,{placeholder:"Выберите роль"})}),(0,l.jsxs)(rJ.Bw,{children:[l.jsx(rJ.Ql,{value:"all",children:"Все роли"}),l.jsx(rJ.Ql,{value:s.USER,children:"Пользователь"}),l.jsx(rJ.Ql,{value:s.ADMIN,children:"Администратор"})]})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Статус"}),(0,l.jsxs)(rJ.Ph,{value:c.status,onValueChange:e=>x("status",e),children:[l.jsx(rJ.i4,{children:l.jsx(rJ.ki,{placeholder:"Выберите статус"})}),(0,l.jsxs)(rJ.Bw,{children:[l.jsx(rJ.Ql,{value:"all",children:"Все статусы"}),l.jsx(rJ.Ql,{value:n.ACTIVE,children:"Активные"}),l.jsx(rJ.Ql,{value:n.BLOCKED,children:"Заблокированные"}),l.jsx(rJ.Ql,{value:n.PENDING,children:"Ожидающие"})]})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,l.jsxs)(o.z,{onClick:()=>{r()},className:"bg-orange-500 hover:bg-orange-600",children:[l.jsx(r1.Z,{className:"h-4 w-4 mr-2"}),"Поиск"]}),(0,l.jsxs)(o.z,{variant:"outline",onClick:()=>{let e={search:"",role:"all",status:"all"};u(e),t(e),a()},children:[l.jsx(r2.Z,{className:"h-4 w-4 mr-2"}),"Сбросить"]})]})]})]})}(function(e){e.USER="user",e.ADMIN="admin"})(s||(s={})),function(e){e.ACTIVE="active",e.BLOCKED="blocked",e.PENDING="pending"}(n||(n={}));let r5=0,r3=new Map,r6=e=>{if(r3.has(e))return;let t=setTimeout(()=>{r3.delete(e),ae({type:"REMOVE_TOAST",toastId:e})},1e6);r3.set(e,t)},r8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?r6(r):e.toasts.forEach(e=>{r6(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},r7=[],r9={toasts:[]};function ae(e){r9=r8(r9,e),r7.forEach(e=>{e(r9)})}function at({...e}){let t=(r5=(r5+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>ae({type:"DISMISS_TOAST",toastId:t});return ae({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>ae({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function ar(){let[e,t]=(0,i.useState)({email:"",role:"all",status:"all"}),{users:r,loading:a,error:s,refetch:n,createUser:c,updateUser:m,deleteUser:x}=function(e){let{user:t,loading:r,isAuthenticated:a}=(0,u.B)(),[s,n]=(0,i.useState)([]),[l,o]=(0,i.useState)(!0),[d,c]=(0,i.useState)(null),m=async()=>{try{o(!0),c(null);let{data:{session:t}}=await y.O.auth.getSession();if(console.log("Session in useUsers:",t),!t?.access_token)throw console.error("No access token available in useUsers"),Error("No access token available");let r=new URLSearchParams;e?.email&&r.append("email",e.email),e?.role&&r.append("role",e.role),e?.status&&r.append("status",e.status),console.log("Making API request to:",`/api/users?${r.toString()}`),console.log("With token:",t.access_token.substring(0,20)+"...");let a=await fetch(`/api/users?${r.toString()}`,{headers:{Authorization:`Bearer ${t.access_token}`}});if(console.log("API response status:",a.status),!a.ok){let e=await a.text();throw console.error("API error response:",e),Error("Failed to fetch users")}let s=await a.json();console.log("API response data:",s),n(s.users)}catch(e){c(e.message),console.error("Error fetching users:",e)}finally{o(!1)}},x=async e=>{try{let{data:{session:t}}=await y.O.auth.getSession();if(!t?.access_token)throw Error("No access token available");let r=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create user")}let a=await r.json();return await m(),a.user}catch(e){throw c(e.message),e}},p=async(e,t)=>{try{let{data:{session:r}}=await y.O.auth.getSession();if(!r?.access_token)throw Error("No access token available");let a=await fetch("/api/users",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({id:e,...t})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to update user")}let s=await a.json();return await m(),s.user}catch(e){throw c(e.message),e}},f=async e=>{try{let{data:{session:t}}=await y.O.auth.getSession();if(!t?.access_token)throw Error("No access token available");let r=await fetch(`/api/users?id=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t.access_token}`}});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to delete user")}await m()}catch(e){throw c(e.message),e}};return{users:s,loading:l,error:d,refetch:m,createUser:x,updateUser:p,deleteUser:f}}(e),{toast:f}=function(){let[e,t]=i.useState(r9);return i.useEffect(()=>(r7.push(t),()=>{let e=r7.indexOf(t);e>-1&&r7.splice(e,1)}),[e]),{...e,toast:at,dismiss:e=>ae({type:"DISMISS_TOAST",toastId:e})}}(),h={total_users:r.length,active_users:r.filter(e=>"active"===e.status).length,blocked_users:r.filter(e=>"banned"===e.status).length,new_users_this_month:r.filter(e=>{let t=new Date;return t.setMonth(t.getMonth()-1),new Date(e.createdAt)>t}).length},g=async(e,t)=>{try{await m(e,{role:t}),f({title:"Успешно",description:"Роль пользователя изменена"})}catch(e){console.error("Ошибка изменения роли:",e),f({title:"Ошибка",description:"Не удалось изменить роль пользователя",variant:"destructive"})}},j=async(e,t)=>{try{await m(e,{status:t}),f({title:"Успешно",description:`Пользователь ${"banned"===t?"заблокирован":"разблокирован"}`})}catch(e){console.error("Ошибка изменения статуса:",e),f({title:"Ошибка",description:"Не удалось изменить статус пользователя",variant:"destructive"})}},v=async e=>{try{await x(e),f({title:"Успешно",description:"Пользователь удален"})}catch(e){console.error("Ошибка удаления пользователя:",e),f({title:"Ошибка",description:"Не удалось удалить пользователя",variant:"destructive"})}};return(0,l.jsxs)("div",{className:"space-y-6",children:[h&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Всего пользователей"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.total_users})]}),l.jsx(w.Z,{className:"h-8 w-8 text-blue-500"})]})})}),l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Активные"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.active_users})]}),l.jsx(b,{className:"h-8 w-8 text-green-500"})]})})}),l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Заблокированные"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:h.blocked_users})]}),l.jsx(N,{className:"h-8 w-8 text-red-500"})]})})}),l.jsx(d.Zb,{children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Новые за месяц"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:h.new_users_this_month})]}),l.jsx(k,{className:"h-8 w-8 text-orange-500"})]})})})]}),l.jsx(r4,{filters:e,onFiltersChange:e=>{t(e)},onSearch:()=>{n()},onReset:()=>{t({email:"",role:"all",status:"all"})}}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Пользователи"}),l.jsx("p",{className:"text-gray-600",children:"Управление пользователями системы"})]}),(0,l.jsxs)(o.z,{onClick:()=>{n()},variant:"outline",disabled:a,children:[l.jsx(C.Z,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Обновить"]})]}),a?(0,l.jsxs)("div",{className:"flex items-center justify-center py-12",children:[l.jsx(p.Z,{className:"h-8 w-8 animate-spin text-orange-500"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Загрузка пользователей..."})]}):0===r.length?l.jsx(d.Zb,{children:(0,l.jsxs)(d.aY,{className:"p-12 text-center",children:[l.jsx(w.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Пользователи не найдены"}),l.jsx("p",{className:"text-gray-600",children:e.search||"all"!==e.role||"all"!==e.status?"Попробуйте изменить фильтры поиска":"В системе пока нет зарегистрированных пользователей"})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>l.jsx(rQ,{user:e,onRoleChange:g,onStatusChange:j,onDelete:v},e.id))})]})}var aa=r(9969);let as=(0,f.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var an=r(6148),al=r(17316);function ai(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(!0),[s,n]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),m=async()=>{try{a(!0),n(null);let e=await fetch("/api/admin/database-stats"),r=await e.json();if(!e.ok)throw Error(r.error||"Ошибка загрузки статистики");t(r),u(new Date)}catch(e){console.error("Error fetching database stats:",e),n(e.message)}finally{a(!1)}};if(r)return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Статистика базы данных"}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>l.jsx(d.Zb,{className:"animate-pulse",children:(0,l.jsxs)(d.aY,{className:"p-6",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})},t))})]});if(s)return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Статистика базы данных"}),(0,l.jsxs)(o.z,{onClick:m,variant:"outline",size:"sm",children:[l.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Обновить"]})]}),l.jsx(d.Zb,{className:"border-red-200 bg-red-50",children:(0,l.jsxs)(d.aY,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-red-600 mb-2",children:"⚠️ Ошибка загрузки статистики"}),l.jsx("p",{className:"text-red-500 text-sm mb-4",children:s}),l.jsx(o.z,{onClick:m,variant:"outline",size:"sm",children:"Попробовать снова"})]})})]});if(!e)return l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"Нет данных для отображения"})});let x=e.activePets>0?Math.round(e.foundPets/e.activePets*100):0;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Статистика базы данных"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["Обновлено: ",c.toLocaleTimeString()]}),(0,l.jsxs)(o.z,{onClick:m,variant:"outline",size:"sm",children:[l.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Обновить"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(d.Zb,{className:"hover:shadow-md transition-shadow",children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Всего пользователей"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.users})]}),l.jsx(w.Z,{className:"h-8 w-8 text-blue-500"})]})})}),l.jsx(d.Zb,{className:"hover:shadow-md transition-shadow",children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Всего объявлений"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.pets})]}),l.jsx(aa.Z,{className:"h-8 w-8 text-green-500"})]})})}),l.jsx(d.Zb,{className:"hover:shadow-md transition-shadow",children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Активных объявлений"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.activePets})]}),l.jsx(r1.Z,{className:"h-8 w-8 text-orange-500"})]})})}),l.jsx(d.Zb,{className:"hover:shadow-md transition-shadow",children:l.jsx(d.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Успешность поиска"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[x,"%"]})]}),l.jsx(as,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{className:"pb-3",children:(0,l.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[l.jsx(r1.Z,{className:"h-5 w-5 text-red-500"}),"Потерянные питомцы"]})}),(0,l.jsxs)(d.aY,{children:[l.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:e.lostPets}),l.jsx("p",{className:"text-sm text-gray-600",children:"Активных объявлений о пропаже"}),l.jsx(_.C,{variant:"destructive",className:"mt-2",children:"Требуют внимания"})]})]}),(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{className:"pb-3",children:(0,l.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[l.jsx(g.Z,{className:"h-5 w-5 text-green-500"}),"Найденные питомцы"]})}),(0,l.jsxs)(d.aY,{children:[l.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:e.foundPets}),l.jsx("p",{className:"text-sm text-gray-600",children:"Питомцев, ожидающих хозяев"}),l.jsx(_.C,{variant:"default",className:"mt-2 bg-green-500",children:"Готовы к воссоединению"})]})]}),(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{className:"pb-3",children:(0,l.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[l.jsx(an.Z,{className:"h-5 w-5 text-gray-500"}),"Архивные объявления"]})}),(0,l.jsxs)(d.aY,{children:[l.jsx("div",{className:"text-3xl font-bold text-gray-600 mb-2",children:e.archivedPets}),l.jsx("p",{className:"text-sm text-gray-600",children:"Завершенных случаев"}),l.jsx(_.C,{variant:"secondary",className:"mt-2",children:"Успешно решены"})]})]})]}),(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:(0,l.jsxs)(d.ll,{className:"flex items-center gap-2",children:[l.jsx(al.Z,{className:"h-5 w-5 text-orange-500"}),"Системная информация"]})}),l.jsx(d.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Настройки приложения"}),(0,l.jsxs)("p",{className:"text-lg font-semibold",children:[e.appSettings," записей"]})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"База данных"}),l.jsx("p",{className:"text-lg font-semibold",children:"Supabase"})]})]})})]})]})}let ao=i.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:(0,tK.cn)("w-full caption-bottom text-sm",e),...t})}));ao.displayName="Table";let ad=i.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:(0,tK.cn)("[&_tr]:border-b",e),...t}));ad.displayName="TableHeader";let ac=i.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:(0,tK.cn)("[&_tr:last-child]:border-0",e),...t}));ac.displayName="TableBody",i.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:(0,tK.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let au=i.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:(0,tK.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));au.displayName="TableRow";let am=i.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:(0,tK.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));am.displayName="TableHead";let ax=i.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:(0,tK.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ax.displayName="TableCell",i.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:(0,tK.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";let ap=(0,f.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),af=(0,f.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ah=(0,f.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function ag(){let[e,t]=(0,i.useState)("pets"),[r,a]=(0,i.useState)([]),[s,n]=(0,i.useState)([]),[u,x]=(0,i.useState)([]),[p,f]=(0,i.useState)(!1),[h,g]=(0,i.useState)(null),[j,y]=(0,i.useState)(""),[v,w]=(0,i.useState)("all"),[b,N]=(0,i.useState)("created_at"),[k,R]=(0,i.useState)("desc"),D=(0,c.useRouter)(),E=async e=>{try{f(!0),g(null);let t=await fetch(`/api/admin/database-tables?table=${e}`),r=await t.json();if(!t.ok)throw Error(r.error||"Ошибка загрузки данных");switch(e){case"pets":a(r.data||[]);break;case"users":n(r.data||[]);break;case"settings":x(r.data||[])}}catch(t){console.error(`Error fetching ${e}:`,t),g(t.message)}finally{f(!1)}},S=async(t,r)=>{if(confirm("Вы уверены, что хотите удалить эту запись?"))try{let a=await fetch("/api/admin/database-tables",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:t,id:r})});if(!a.ok){let e=await a.json();throw Error(e.error||"Ошибка удаления")}E(e),alert("Запись успешно удалена!")}catch(e){console.error("Error deleting record:",e),alert(`Ошибка удаления: ${e.message}`)}},M=e=>new Date(e).toLocaleString("ru-RU"),A=e=>{switch(e){case"active":return l.jsx(_.C,{className:"bg-green-500",children:"Активно"});case"archived":return l.jsx(_.C,{className:"bg-gray-500",children:"Архив"});case"found":return l.jsx(_.C,{className:"bg-blue-500",children:"Найден"});default:return l.jsx(_.C,{variant:"secondary",children:e})}},O=e=>{switch(e){case"lost":return l.jsx(_.C,{className:"bg-red-500",children:"Потерялся"});case"found":return l.jsx(_.C,{className:"bg-green-500",children:"Найден"});default:return l.jsx(_.C,{variant:"secondary",children:e})}},T=r.filter(e=>{let t=e.name.toLowerCase().includes(j.toLowerCase())||e.breed.toLowerCase().includes(j.toLowerCase())||e.location.toLowerCase().includes(j.toLowerCase())||e.contact_name.toLowerCase().includes(j.toLowerCase())||e.user_email&&e.user_email.toLowerCase().includes(j.toLowerCase()),r="all"===v||"anonymous"===v&&!e.user_id||"registered"===v&&e.user_id||"all"!==v&&"anonymous"!==v&&"registered"!==v&&e.user_id===v;return t&&r}).sort((e,t)=>{let r,a;switch(b){case"name":r=e.name.toLowerCase(),a=t.name.toLowerCase();break;case"user_email":r=e.user_email||"",a=t.user_email||"";break;default:r=new Date(e.created_at).getTime(),a=new Date(t.created_at).getTime()}return"asc"===k?r<a?-1:r>a?1:0:r>a?-1:r<a?1:0}),I=s.filter(e=>e.email.toLowerCase().includes(j.toLowerCase()));return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Управление базой данных"}),l.jsx("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(o.z,{onClick:()=>E(e),variant:"outline",size:"sm",children:[l.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Обновить"]})})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(o.z,{variant:"pets"===e?"default":"outline",onClick:()=>t("pets"),className:"pets"===e?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(ap,{className:"h-4 w-4 mr-2"}),"Объявления (",r.length,")"]}),(0,l.jsxs)(o.z,{variant:"users"===e?"default":"outline",onClick:()=>t("users"),className:"users"===e?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(ap,{className:"h-4 w-4 mr-2"}),"Пользователи (",s.length,")"]}),(0,l.jsxs)(o.z,{variant:"settings"===e?"default":"outline",onClick:()=>t("settings"),className:"settings"===e?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(ap,{className:"h-4 w-4 mr-2"}),"Настройки (",u.length,")"]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(r1.Z,{className:"h-4 w-4 text-gray-500"}),l.jsx(m.I,{placeholder:`Поиск в ${"pets"===e?"объявлениях":"users"===e?"пользователях":"настройках"}...`,value:j,onChange:e=>y(e.target.value),className:"max-w-sm"})]}),"pets"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(r0,{className:"h-4 w-4 text-gray-500"}),(0,l.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[l.jsx("option",{value:"all",children:"Все пользователи"}),l.jsx("option",{value:"registered",children:"Зарегистрированные"}),l.jsx("option",{value:"anonymous",children:"Анонимные"}),s.map(e=>l.jsx("option",{value:e.id,children:e.email},e.id))]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Сортировка:"}),(0,l.jsxs)("select",{value:b,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[l.jsx("option",{value:"created_at",children:"По дате"}),l.jsx("option",{value:"name",children:"По имени"}),l.jsx("option",{value:"user_email",children:"По пользователю"})]}),l.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>R("asc"===k?"desc":"asc"),children:"asc"===k?"↑":"↓"})]})]})]}),h&&l.jsx(d.Zb,{className:"border-red-200 bg-red-50",children:(0,l.jsxs)(d.aY,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-red-600 mb-2",children:"⚠️ Ошибка загрузки данных"}),l.jsx("p",{className:"text-red-500 text-sm",children:h})]})}),p?(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Загрузка данных..."})]}):(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:(0,l.jsxs)(d.ll,{className:"flex items-center gap-2",children:[l.jsx(ap,{className:"h-5 w-5 text-orange-500"}),"pets"===e&&`Объявления (${T.length})`,"users"===e&&`Пользователи (${I.length})`,"settings"===e&&`Настройки (${u.length})`]})}),(0,l.jsxs)(d.aY,{children:["pets"===e&&l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)(ao,{children:[l.jsx(ad,{children:(0,l.jsxs)(au,{children:[l.jsx(am,{children:"ID"}),l.jsx(am,{children:"Тип"}),l.jsx(am,{children:"Имя"}),l.jsx(am,{children:"Порода"}),l.jsx(am,{children:"Местоположение"}),l.jsx(am,{children:"Пользователь"}),l.jsx(am,{children:"Статус"}),l.jsx(am,{children:"Создано"}),l.jsx(am,{children:"Действия"})]})}),l.jsx(ac,{children:T.map(e=>(0,l.jsxs)(au,{children:[(0,l.jsxs)(ax,{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]}),l.jsx(ax,{children:O(e.type)}),l.jsx(ax,{className:"font-medium",children:e.name}),l.jsx(ax,{children:e.breed}),l.jsx(ax,{children:e.location}),l.jsx(ax,{children:e.user_id?(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsxs)("div",{className:"font-mono text-xs text-gray-500",children:[e.user_id.slice(0,8),"..."]}),l.jsx("div",{className:"text-gray-600",children:e.user_email||"Неизвестно"})]}):l.jsx(_.C,{variant:"secondary",children:"Анонимно"})}),l.jsx(ax,{children:A(e.status)}),l.jsx(ax,{className:"text-sm",children:M(e.created_at)}),l.jsx(ax,{children:(0,l.jsxs)("div",{className:"flex gap-1",children:[l.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>D.push(`/pet/${e.id}`),children:l.jsx(af,{className:"h-3 w-3"})}),l.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>D.push(`/add?id=${e.id}&from=admin`),children:l.jsx(ah,{className:"h-3 w-3"})}),l.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>S("pets",e.id),className:"text-red-600 hover:text-red-700",children:l.jsx(P.Z,{className:"h-3 w-3"})})]})})]},e.id))})]})}),"users"===e&&l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)(ao,{children:[l.jsx(ad,{children:(0,l.jsxs)(au,{children:[l.jsx(am,{children:"ID"}),l.jsx(am,{children:"Email"}),l.jsx(am,{children:"Подтвержден"}),l.jsx(am,{children:"Создан"}),l.jsx(am,{children:"Последний вход"}),l.jsx(am,{children:"Действия"})]})}),l.jsx(ac,{children:I.map(e=>(0,l.jsxs)(au,{children:[(0,l.jsxs)(ax,{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]}),l.jsx(ax,{className:"font-medium",children:e.email}),l.jsx(ax,{children:e.email_confirmed_at?l.jsx(_.C,{className:"bg-green-500",children:"Да"}):l.jsx(_.C,{className:"bg-red-500",children:"Нет"})}),l.jsx(ax,{className:"text-sm",children:M(e.created_at)}),l.jsx(ax,{className:"text-sm",children:e.last_sign_in_at?M(e.last_sign_in_at):"Никогда"}),l.jsx(ax,{children:l.jsx("div",{className:"flex gap-1",children:l.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>S("users",e.id),className:"text-red-600 hover:text-red-700",children:l.jsx(P.Z,{className:"h-3 w-3"})})})})]},e.id))})]})}),"settings"===e&&l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)(ao,{children:[l.jsx(ad,{children:(0,l.jsxs)(au,{children:[l.jsx(am,{children:"ID"}),l.jsx(am,{children:"Фоновое изображение"}),l.jsx(am,{children:"Затемнение (%)"}),l.jsx(am,{children:"Обновлено"}),l.jsx(am,{children:"Действия"})]})}),l.jsx(ac,{children:u.map(e=>(0,l.jsxs)(au,{children:[(0,l.jsxs)(ax,{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]}),l.jsx(ax,{className:"max-w-xs truncate",children:e.background_image_url||"Не задано"}),(0,l.jsxs)(ax,{children:[e.background_darkening_percentage||0,"%"]}),l.jsx(ax,{className:"text-sm",children:M(e.updated_at)}),l.jsx(ax,{children:l.jsx("div",{className:"flex gap-1",children:l.jsx(o.z,{size:"sm",variant:"outline",onClick:()=>D.push("/admin?tab=settings"),children:l.jsx(ah,{className:"h-3 w-3"})})})})]},e.id))})]})})]})]})]})}var aj=r(56460);let ay=(0,f.Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);var av=r(37073);function aw(){let{user:e,loading:t,isAuthenticated:r}=(0,u.B)(),[a,s]=(0,i.useState)("settings"),n=(0,c.useRouter)();(0,c.useSearchParams)();let m=e?.email==="agentgl007@gmail.com";return t?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Загрузка админ панели..."})]})}):m?(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[l.jsx("header",{className:"bg-white shadow-sm border-b",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx(al.Z,{className:"h-8 w-8 text-orange-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Админ панель"})]}),l.jsx("div",{className:"flex items-center gap-4",children:(0,l.jsxs)(o.z,{variant:"outline",onClick:()=>n.push("/"),className:"flex items-center gap-2",children:[l.jsx(aj.Z,{className:"h-4 w-4"}),"На главную"]})})]})}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"flex gap-2 mb-8",children:[(0,l.jsxs)(o.z,{variant:"settings"===a?"default":"outline",onClick:()=>s("settings"),className:"settings"===a?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),"Настройки фона"]}),(0,l.jsxs)(o.z,{variant:"users"===a?"default":"outline",onClick:()=>s("users"),className:"users"===a?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(w.Z,{className:"h-4 w-4 mr-2"}),"Пользователи"]}),(0,l.jsxs)(o.z,{variant:"database"===a?"default":"outline",onClick:()=>s("database"),className:"database"===a?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(ap,{className:"h-4 w-4 mr-2"}),"Статистика БД"]}),(0,l.jsxs)(o.z,{variant:"tables"===a?"default":"outline",onClick:()=>s("tables"),className:"tables"===a?"bg-orange-500 hover:bg-orange-600":"",children:[l.jsx(ay,{className:"h-4 w-4 mr-2"}),"Таблицы БД"]}),(0,l.jsxs)(o.z,{variant:"outline",onClick:()=>n.push("/admin/chats"),className:"flex items-center gap-2",children:[l.jsx(av.Z,{className:"h-4 w-4"}),"Управление чатами"]})]}),"settings"===a&&l.jsx("div",{className:"max-w-4xl mx-auto",children:(0,l.jsxs)(d.Zb,{children:[l.jsx(d.Ol,{children:(0,l.jsxs)(d.ll,{className:"flex items-center gap-2",children:[l.jsx(h,{className:"h-5 w-5 text-orange-500"}),"Настройки приложения"]})}),l.jsx(d.aY,{children:l.jsx(v,{})})]})}),"users"===a&&l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx(ar,{})}),"database"===a&&l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx(ai,{})}),"tables"===a&&l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx(ag,{})})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:l.jsx(d.Zb,{className:"w-full max-w-md mx-auto",children:(0,l.jsxs)(d.aY,{className:"p-8 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Доступ запрещен"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"У вас нет прав для доступа к админ панели."}),l.jsx(o.z,{onClick:()=>n.push("/"),className:"bg-orange-500 hover:bg-orange-600",children:"Вернуться на главную"})]})})})}},27757:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,Zb:()=>l,aY:()=>d,ll:()=>o});var a=r(97247),s=r(28964),n=r(25008);let l=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let i=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},70170:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var a=r(97247),s=r(28964),n=r(25008);let l=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));l.displayName="Input"},44538:(e,t,r)=>{"use strict";r.d(t,{_:()=>c});var a=r(97247),s=r(28964),n=r(22251),l=s.forwardRef((e,t)=>(0,a.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=r(87972),o=r(25008);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...t},r)=>a.jsx(l,{ref:r,className:(0,o.cn)(d(),e),...t}));c.displayName=l.displayName},94049:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>f,Ph:()=>c,Ql:()=>h,i4:()=>m,ki:()=>u});var a=r(97247),s=r(28964),n=r(33088),l=r(62513),i=r(45370),o=r(48799),d=r(25008);let c=n.fC;n.ZA;let u=n.B4,m=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(n.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(n.JO,{asChild:!0,children:a.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.xz.displayName;let x=s.forwardRef(({className:e,...t},r)=>a.jsx(n.u_,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(i.Z,{className:"h-4 w-4"})}));x.displayName=n.u_.displayName;let p=s.forwardRef(({className:e,...t},r)=>a.jsx(n.$G,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));p.displayName=n.$G.displayName;let f=s.forwardRef(({className:e,children:t,position:r="popper",...s},l)=>a.jsx(n.h_,{children:(0,a.jsxs)(n.VY,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[a.jsx(x,{}),a.jsx(n.l_,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(p,{})]})}));f.displayName=n.VY.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(n.__,{ref:r,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let h=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(n.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(o.Z,{className:"h-4 w-4"})})}),a.jsx(n.eT,{children:t})]}));h.displayName=n.ck.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(n.Z0,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},6148:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},50820:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},62752:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44161:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},56460:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},8749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},28339:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},49256:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},17316:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},97792:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},33841:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},69964:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},57989:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},83389:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`D:\DATA\Hvastik-Alert\app\admin\page.tsx#default`)},67264:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var a=r(28964),s=r(93191),n=r(9537),l=e=>{let{present:t,children:r}=e,l=function(e){var t,r;let[s,l]=a.useState(),o=a.useRef(null),d=a.useRef(e),c=a.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>r[e][t]??e,t));return a.useEffect(()=>{let e=i(o.current);c.current="mounted"===u?e:"none"},[u]),(0,n.b)(()=>{let t=o.current,r=d.current;if(r!==e){let a=c.current,s=i(t);e?m("MOUNT"):"none"===s||t?.display==="none"?m("UNMOUNT"):r&&a!==s?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,n.b)(()=>{if(s){let e;let t=s.ownerDocument.defaultView??window,r=r=>{let a=i(o.current).includes(CSS.escape(r.animationName));if(r.target===s&&a&&(m("ANIMATION_END"),!d.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},a=e=>{e.target===s&&(c.current=i(o.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(e=>{o.current=e?getComputedStyle(e):null,l(e)},[])}}(t),o="function"==typeof r?r({present:l.isPresent}):a.Children.only(r),d=(0,s.e)(l.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof r||l.isPresent?a.cloneElement(o,{ref:d}):null};function i(e){return e?.animationName||"none"}l.displayName="Presence"},98920:(e,t,r)=>{"use strict";r.d(t,{ck:()=>M,fC:()=>S,Pc:()=>w});var a=r(28964);function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var n=r(63714),l=r(93191),i=r(20732),o=r(27015),d=r(22251),c=r(85090),u=r(28469),m=r(71310),x=r(97247),p="rovingFocusGroup.onEntryFocus",f={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[g,j,y]=(0,n.B)(h),[v,w]=(0,i.b)(h,[y]),[b,N]=v(h),k=a.forwardRef((e,t)=>(0,x.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(C,{...e,ref:t})})}));k.displayName=h;var C=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:g,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:N=!1,...k}=e,C=a.useRef(null),_=(0,l.e)(t,C),R=(0,m.gm)(o),[D,S]=(0,u.T)({prop:g,defaultProp:y??null,onChange:v,caller:h}),[M,A]=a.useState(!1),P=(0,c.W)(w),O=j(r),T=a.useRef(!1),[I,Z]=a.useState(0);return a.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,P),()=>e.removeEventListener(p,P)},[P]),(0,x.jsx)(b,{scope:r,orientation:n,dir:R,loop:i,currentTabStopId:D,onItemFocus:a.useCallback(e=>S(e),[S]),onItemShiftTab:a.useCallback(()=>A(!0),[]),onFocusableItemAdd:a.useCallback(()=>Z(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>Z(e=>e-1),[]),children:(0,x.jsx)(d.WV.div,{tabIndex:M||0===I?-1:0,"data-orientation":n,...k,ref:_,style:{outline:"none",...e.style},onMouseDown:s(e.onMouseDown,()=>{T.current=!0}),onFocus:s(e.onFocus,e=>{let t=!T.current;if(e.target===e.currentTarget&&t&&!M){let t=new CustomEvent(p,f);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=O().filter(e=>e.focusable);E([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),N)}}T.current=!1}),onBlur:s(e.onBlur,()=>A(!1))})})}),_="RovingFocusGroupItem",R=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:l=!1,tabStopId:i,children:c,...u}=e,m=(0,o.M)(),p=i||m,f=N(_,r),h=f.currentTabStopId===p,y=j(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:b}=f;return a.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),(0,x.jsx)(g.ItemSlot,{scope:r,id:p,focusable:n,active:l,children:(0,x.jsx)(d.WV.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...u,ref:t,onMouseDown:s(e.onMouseDown,e=>{n?f.onItemFocus(p):e.preventDefault()}),onFocus:s(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:s(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return D[s]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=f.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>E(r))}}),children:"function"==typeof c?c({isCurrentTabStop:h,hasTabStop:null!=b}):c})})});R.displayName=_;var D={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var S=k,M=R}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7787,1918,1593,9129,1086],()=>r(94892));module.exports=a})();