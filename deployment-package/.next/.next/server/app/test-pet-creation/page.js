(()=>{var e={};e.id=3163,e.ids=[3163],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},930:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(62273),s(13973),s(90996);var r=s(30170),i=s(45002),a=s(83876),n=s.n(a),o=s(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["test-pet-creation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,62273)),"D:\\DATA\\Hvastik-Alert\\app\\test-pet-creation\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13973)),"D:\\DATA\\Hvastik-Alert\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,68199)),"D:\\DATA\\Hvastik-Alert\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\DATA\\Hvastik-Alert\\app\\test-pet-creation\\page.tsx"],p="/test-pet-creation/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/test-pet-creation/page",pathname:"/test-pet-creation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},13606:(e,t,s)=>{Promise.resolve().then(s.bind(s,35309))},35309:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(97247),i=s(38146),a=s(28964),n=s(58053),o=s(24354);let l="https://erjszhoaxapnkluezwpy.supabase.co",c=process.env.SUPABASE_SERVICE_ROLE_KEY,d=l&&c?(0,o.eI)(l,c,{auth:{autoRefreshToken:!1,persistSession:!1}}):null;function p(){let{user:e,loading:t,isAuthenticated:s}=(0,i.B)(),[o,l]=(0,a.useState)(""),[c,p]=(0,a.useState)(!1),u=async()=>{p(!0),l("");try{let t={type:"lost",animal_type:"dog",breed:"Test breed",name:"Test pet",description:"Test description for debugging",color:"Test color",location:"Test location",latitude:44.8951,longitude:37.3142,contact_phone:"+7 (999) 123-45-67",contact_name:"Test user",reward:1e3,photo_url:"https://example.com/test.jpg",status:"active",created_at:new Date().toISOString(),user_id:e?.id};if(console.log("User data:",e),console.log("User ID:",e?.id),console.log("Pet data:",t),!d){l("❌ Админский Supabase клиент не инициализирован");return}let{data:s,error:r}=await d.from("pets").insert([t]).select();r?l(`❌ Ошибка: ${r.message}
Код: ${r.code}
Детали: ${JSON.stringify(r,null,2)}`):(l(`✅ Успешно! ID объявления: ${s[0]?.id}`),s[0]?.id&&(await d.from("pets").delete().eq("id",s[0].id),l(e=>e+"\n\uD83E\uDDF9 Тестовое объявление удалено")))}catch(e){l(`❌ Исключение: ${e.message}`)}finally{p(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Тест создания объявления"}),(0,r.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Информация о пользователе:"}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Статус загрузки:"})," ",t?"Загрузка...":"Загружено"]}),s&&e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Email:"})," ",e.email]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"ID:"})," ",e.id]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Тип ID:"})," ",typeof e.id]})]}):r.jsx("p",{children:"Пользователь не аутентифицирован"})]}),r.jsx("div",{className:"mb-6",children:r.jsx(n.z,{onClick:u,disabled:c||!s,className:"bg-orange-500 hover:bg-orange-600",children:c?"Тестируем...":"Тест создания объявления"})}),o&&(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Результат:"}),r.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:o})]})]})}},62273:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`D:\DATA\Hvastik-Alert\app\test-pet-creation\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7787,1918,1086],()=>s(930));module.exports=r})();