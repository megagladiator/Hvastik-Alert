(()=>{var e={};e.id=5323,e.ids=[5323],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},20513:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>q,requestAsyncStorage:()=>x,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{GET:()=>c});var o=r(73278),a=r(45002),u=r(54877),i=r(71309),p=r(52418);let n=process.env.SUPABASE_SERVICE_ROLE_KEY,l=(0,p.eI)("https://erjszhoaxapnkluezwpy.supabase.co",n);async function c(){try{console.log("\uD83D\uDD0D Получаем все объявления из базы данных...");let{data:e,error:t}=await l.from("pets").select("*").order("created_at",{ascending:!1});if(t)return console.error("❌ Ошибка при получении данных:",t),i.NextResponse.json({error:t.message},{status:500});return console.log(`📊 Найдено объявлений: ${e?.length||0}`),e&&e.length>0&&e.forEach((e,t)=>{console.log(`${t+1}. ${e.name} в ${e.location} (${e.latitude}, ${e.longitude})`)}),i.NextResponse.json({totalPets:e?.length||0,pets:e?.map(e=>({id:e.id,name:e.name,location:e.location,latitude:e.latitude,longitude:e.longitude,status:e.status,created_at:e.created_at}))||[]})}catch(e){return console.error("❌ Ошибка:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api-backup/list-all-pets/route",pathname:"/api-backup/list-all-pets",filename:"route",bundlePath:"app/api-backup/list-all-pets/route"},resolvedPagePath:"D:\\DATA\\Hvastik-Alert\\app\\api-backup\\list-all-pets\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:g,serverHooks:h}=d,m="/api-backup/list-all-pets/route";function q(){return(0,u.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7787,4833,2418],()=>r(20513));module.exports=s})();