(()=>{var e={};e.id=6828,e.ids=[6828],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},93999:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{GET:()=>c});var a=t(73278),o=t(45002),u=t(54877),i=t(71309),n=t(66572);async function c(e){try{if(!n.RU)return i.NextResponse.json({error:"Supabase server client not configured"},{status:500});let e={users:0,pets:0,activePets:0,lostPets:0,foundPets:0,archivedPets:0,appSettings:0,totalSize:0};try{try{let{data:r,error:t}=await n.RU.auth.admin.listUsers();!t&&r&&(e.users=r.users.length)}catch(e){console.error("Error fetching users count:",e)}let{count:r,error:t}=await n.RU.from("pets").select("*",{count:"exact",head:!0});t||(e.pets=r||0);let{count:s,error:a}=await n.RU.from("pets").select("*",{count:"exact",head:!0}).eq("status","active");a||(e.activePets=s||0);let{count:o,error:u}=await n.RU.from("pets").select("*",{count:"exact",head:!0}).eq("type","lost").eq("status","active");u||(e.lostPets=o||0);let{count:i,error:c}=await n.RU.from("pets").select("*",{count:"exact",head:!0}).eq("type","found").eq("status","active");c||(e.foundPets=i||0);let{count:p,error:l}=await n.RU.from("pets").select("*",{count:"exact",head:!0}).eq("status","archived");l||(e.archivedPets=p||0);let{count:d,error:m}=await n.RU.from("app_settings").select("*",{count:"exact",head:!0});m||(e.appSettings=d||0)}catch(e){console.error("Error fetching database stats:",e)}return i.NextResponse.json(e)}catch(e){return console.error("Database stats API error:",e),i.NextResponse.json({error:e.message},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api-backup/admin/database-stats/route",pathname:"/api-backup/admin/database-stats",filename:"route",bundlePath:"app/api-backup/admin/database-stats/route"},resolvedPagePath:"D:\\DATA\\Hvastik-Alert\\app\\api-backup\\admin\\database-stats\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m}=p,f="/api-backup/admin/database-stats/route";function v(){return(0,u.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},66572:(e,r,t)=>{"use strict";t.d(r,{RU:()=>u,c2:()=>i});var s=t(52418);let a="https://erjszhoaxapnkluezwpy.supabase.co",o=process.env.SUPABASE_SERVICE_ROLE_KEY,u=a&&o?(0,s.eI)(a,o,{auth:{autoRefreshToken:!1,persistSession:!1}}):null,i=u||{from:()=>({select:()=>({eq:()=>({order:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),single:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})}),insert:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),single:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})}),update:()=>({eq:()=>({select:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})}),delete:()=>({eq:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})})}),auth:{admin:{listUsers:()=>Promise.resolve({data:{users:[]},error:Error("Supabase not configured")}),getUserByEmail:()=>Promise.resolve({data:{user:null},error:Error("Supabase not configured")}),deleteUser:()=>Promise.resolve({data:null,error:Error("Supabase not configured")}),updateUserById:()=>Promise.resolve({data:null,error:Error("Supabase not configured")})}}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7787,4833,2418],()=>t(93999));module.exports=s})();