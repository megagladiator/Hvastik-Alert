# Исправление Rate Limit ошибок

## Проблема
Supabase возвращает ошибку `email rate limit exceeded` при:
- Регистрации пользователей
- Восстановлении пароля
- Подтверждении email

## Исправления

### 1. Страница регистрации (`app/register/page.tsx`)
- ✅ Добавлена обработка ошибки `rate limit`
- ✅ Добавлено специальное сообщение в UI: "Слишком много запросов. Попробуйте позже"
- ✅ Объяснение пользователю: "Это защита от спама"

### 2. Страница входа (`app/auth/page.tsx`)
- ✅ Добавлена обработка ошибки `rate limit` для входа
- ✅ Добавлено специальное сообщение в UI
- ✅ Объяснение пользователю

### 3. Страница восстановления пароля (`app/auth/forgot-password/page.tsx`)
- ✅ Уже была исправлена ранее
- ✅ Показывает правильное сообщение об ошибке

### 4. API восстановления пароля (`app/api/auth/forgot-password/route.ts`)
- ✅ Добавлена обработка ошибки `rate limit`
- ✅ Возвращает правильный HTTP статус 429

## Решение проблемы

### Немедленно:
- Подождите **1 час** и попробуйте снова
- Все страницы теперь показывают понятные сообщения об ошибке

### Постоянно:
1. Зайдите в **Supabase Dashboard** → **Authentication** → **Settings**
2. Увеличьте **Email Rate Limits**:
   - Email sends per hour: **100+**
   - Email sends per day: **1000+**
3. Проверьте **Redirect URLs**:
   ```
   http://localhost:3000/auth/reset-password
   http://localhost:3000/auth/verify-email
   http://localhost:3000/auth/callback
   ```

## Результат
Теперь все страницы аутентификации правильно обрабатывают rate limit ошибки и показывают пользователю понятные сообщения вместо технических ошибок.
