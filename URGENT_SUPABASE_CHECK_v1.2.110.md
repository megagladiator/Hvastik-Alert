# üö® –°–†–û–ß–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê: –°—Å—ã–ª–∫–∏ –≤—Å–µ –µ—â–µ –≤–µ–¥—É—Ç –Ω–∞ localhost

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê –û–°–¢–ê–ï–¢–°–Ø
–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π NODE_ENV='production', —Å—Å—ã–ª–∫–∏ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –≤–µ–¥—É—Ç –Ω–∞ `localhost:3001`

## üîç –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´

### 1. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Supabase Dashboard
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** https://supabase.com/dashboard/project/erjszhoaxapnkluezwpy/auth/url-configuration

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- –í Redirect URLs –µ—Å—Ç—å `http://localhost:3000` –∏–ª–∏ `http://localhost:3001`
- Supabase –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–≤—ã–π URL –∏–∑ —Å–ø–∏—Å–∫–∞ Redirect URLs
- Site URL –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è Redirect URLs

### 2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ Supabase
- Supabase –º–æ–∂–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### 3. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ
- `resetPasswordForEmail` –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å `redirectTo` –ø–∞—Ä–∞–º–µ—Ç—Ä
- Supabase –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ Dashboard –≤–º–µ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í v1.2.110

### 1. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ URL –≤ –∫–æ–¥–µ
```typescript
// –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–¥–∞–∫—à–Ω URL
const baseUrl = 'https://hvostikalert.ru'

// –ò—Å–ø–æ–ª—å–∑—É–µ–º signInWithOtp —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º URL
const result = await supabase.auth.signInWithOtp({
  email: email,
  options: {
    emailRedirectTo: `${baseUrl}/auth/callback`,
    shouldCreateUser: false
  }
})
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
console.log('üåê FORCED Base URL for password reset:', baseUrl)
console.log('üìß Redirect URL used:', `${baseUrl}/auth/callback`)
```

## üß™ –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase Dashboard
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞: https://supabase.com/dashboard/project/erjszhoaxapnkluezwpy/auth/url-configuration
2. **–£–¥–∞–ª–∏—Ç–µ –≤—Å–µ localhost URLs –∏–∑ Redirect URLs:**
   - –£–¥–∞–ª–∏—Ç–µ `http://localhost:3000/auth/callback`
   - –£–¥–∞–ª–∏—Ç–µ `http://localhost:3000/auth/reset-password`
   - –£–¥–∞–ª–∏—Ç–µ `http://localhost:3000/auth/error`
   - –£–¥–∞–ª–∏—Ç–µ `http://localhost:3000/auth/verify-email`
3. **–û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–∫—à–Ω URLs:**
   ```
   https://hvostikalert.ru/auth/callback
   https://hvostikalert.ru/auth/reset-password
   https://hvostikalert.ru/auth/error
   https://hvostikalert.ru/auth/verify-email
   ```
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

### –®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º
1. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
   ```
   üåê FORCED Base URL for password reset: https://hvostikalert.ru
   üìß Redirect URL used: https://hvostikalert.ru/auth/callback
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Å—å–º–æ - —Å—Å—ã–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Å—Ç–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω

### –®–∞–≥ 3: –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 –º–∏–Ω—É—Ç (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ Supabase)
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

**Redirect URLs –≤ Supabase Dashboard –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ –∫–æ–¥–µ!**

–ï—Å–ª–∏ –≤ Redirect URLs –µ—Å—Ç—å localhost URL, Supabase –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `emailRedirectTo`.

## üìã –ß–ï–ö–õ–ò–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

- [ ] –£–¥–∞–ª–∏—Ç—å –≤—Å–µ localhost URLs –∏–∑ Redirect URLs –≤ Supabase Dashboard
- [ ] –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–∫—à–Ω URLs –≤ Redirect URLs
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Supabase Dashboard
- [ ] –ü–æ–¥–æ–∂–¥–∞—Ç—å 10-15 –º–∏–Ω—É—Ç
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è localhost URLs –∏–∑ Redirect URLs:
- ‚úÖ –°—Å—ã–ª–∫–∏ –≤ –ø–∏—Å—å–º–∞—Ö –±—É–¥—É—Ç –≤–µ—Å—Ç–∏ –Ω–∞ `https://hvostikalert.ru/auth/callback`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏ `ERR_CONNECTION_REFUSED`
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìù –í–µ—Ä—Å–∏—è
**v1.2.110** - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ URL –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Supabase Dashboard

