<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –•–≤–æ—Å—Ç–∏–∫ Alert v1.1.5</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .controls {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            text-align: center;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .results {
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .test-result {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 5px solid #dee2e6;
        }
        
        .test-result.pass {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .test-result.fail {
            background: #f8d7da;
            border-left-color: #dc3545;
        }
        
        .test-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .test-details {
            font-size: 0.9em;
            color: #6c757d;
        }
        
        .summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .summary-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>
            <p>–ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –•–≤–æ—Å—Ç–∏–∫ Alert v1.1.5</p>
        </div>
        
        <div class="controls">
            <button class="btn" onclick="runBasicTests()">üöÄ –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã</button>
            <button class="btn" onclick="runApiTests()">üîå API —Ç–µ—Å—Ç—ã</button>
            <button class="btn" onclick="runGeocodeTests()">üó∫Ô∏è –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
            <button class="btn" onclick="runAllSimpleTests()">‚ö° –í—Å–µ –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã</button>
            <button class="btn" onclick="clearResults()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
        
        <div class="results" id="results">
            <p style="text-align: center; color: #6c757d; font-style: italic;">
                –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞
            </p>
        </div>
        
        <div class="summary" id="summary" style="display: none;">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
            <div class="summary-stats">
                <div class="stat">
                    <div class="stat-number" id="totalTests">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="passedTests">0</div>
                    <div class="stat-label">–ü—Ä–æ–π–¥–µ–Ω–æ</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="failedTests">0</div>
                    <div class="stat-label">–ü—Ä–æ–≤–∞–ª–µ–Ω–æ</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="successRate">0%</div>
                    <div class="stat-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let testResults = [];

        // –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
        function runBasicTests() {
            clearResults();
            testResults = [];
            
            const tests = [
                {
                    name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞',
                    test: () => {
                        if (!window || !document) throw new Error('–ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ');
                        if (!fetch) throw new Error('Fetch API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                        return '–û–∫—Ä—É–∂–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                    }
                },
                {
                    name: '–í–∞–ª–∏–¥–∞—Ü–∏—è email –∞–¥—Ä–µ—Å–æ–≤',
                    test: () => {
                        const isValidEmail = (email) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
                        if (!isValidEmail('test@example.com')) throw new Error('–í–∞–ª–∏–¥–Ω—ã–π email –Ω–µ –ø—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É');
                        if (isValidEmail('invalid-email')) throw new Error('–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email –ø—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É');
                        return '–í–∞–ª–∏–¥–∞—Ü–∏—è email —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                    }
                },
                {
                    name: '–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤',
                    test: () => {
                        const formatPhone = (phone) => {
                            return phone.replace(/\D/g, '').replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/, '+$1 ($2) $3-$4-$5');
                        };
                        const result = formatPhone('79181234567');
                        if (result !== '+7 (918) 123-45-67') throw new Error(`–ù–µ–≤–µ—Ä–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ${result}`);
                        return '–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                    }
                },
                {
                    name: '–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç',
                    test: () => {
                        const isValidCoordinate = (lat, lng) => {
                            return lat >= -90 && lat <= 90 && lng >= -180 && lng <= 180;
                        };
                        if (!isValidCoordinate(44.8951, 37.3142)) throw new Error('–í–∞–ª–∏–¥–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ê–Ω–∞–ø—ã –Ω–µ –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É');
                        if (isValidCoordinate(91, 37.3142)) throw new Error('–ù–µ–≤–∞–ª–∏–¥–Ω–∞—è —à–∏—Ä–æ—Ç–∞ –ø—Ä–æ—à–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫—É');
                        return '–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                    }
                },
                {
                    name: '–†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏',
                    test: () => {
                        const calculateDistance = (lat1, lng1, lat2, lng2) => {
                            const R = 6371;
                            const dLat = (lat2 - lat1) * Math.PI / 180;
                            const dLng = (lng2 - lng1) * Math.PI / 180;
                            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                                      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                                      Math.sin(dLng/2) * Math.sin(dLng/2);
                            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                            return R * c;
                        };
                        const distance = calculateDistance(44.8951, 37.3142, 44.7239, 37.7708);
                        if (distance < 40 || distance > 60) throw new Error(`–ù–µ–≤–µ—Ä–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${distance} –∫–º`);
                        return `–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ê–Ω–∞–ø–∞-–ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫: ${distance.toFixed(1)} –∫–º`;
                    }
                }
            ];

            runTests(tests);
        }

        // API —Ç–µ—Å—Ç—ã (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
        async function runApiTests() {
            clearResults();
            testResults = [];
            
            const tests = [
                {
                    name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã',
                    test: async () => {
                        try {
                            const response = await fetch('/');
                            if (!response.ok && response.status !== 0) {
                                throw new Error(`HTTP ${response.status}`);
                            }
                            return '–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞';
                        } catch (error) {
                            if (error.message.includes('Failed to fetch')) {
                                return '–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤)';
                            }
                            throw error;
                        }
                    }
                },
                {
                    name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ API –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è',
                    test: async () => {
                        try {
                            const response = await fetch('/api/geocode?address=–ê–Ω–∞–ø–∞');
                            if (!response.ok && response.status !== 0) {
                                throw new Error(`HTTP ${response.status}`);
                            }
                            return 'API –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω';
                        } catch (error) {
                            if (error.message.includes('Failed to fetch')) {
                                return '–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤)';
                            }
                            throw error;
                        }
                    }
                },
                {
                    name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ API –æ–±—ä—è–≤–ª–µ–Ω–∏–π',
                    test: async () => {
                        try {
                            const response = await fetch('/api/pets');
                            if (!response.ok && response.status !== 0) {
                                throw new Error(`HTTP ${response.status}`);
                            }
                            return 'API –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–µ–Ω';
                        } catch (error) {
                            if (error.message.includes('Failed to fetch')) {
                                return '–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤)';
                            }
                            throw error;
                        }
                    }
                }
            ];

            await runAsyncTests(tests);
        }

        // –¢–µ—Å—Ç—ã –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
        function runGeocodeTests() {
            clearResults();
            testResults = [];
            
            const tests = [
                {
                    name: '–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–æ—Ä–æ–¥–æ–≤',
                    test: () => {
                        const knownLocations = {
                            '–∞–Ω–∞–ø–∞': { lat: 44.8951, lng: 37.3142 },
                            '–Ω–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫': { lat: 44.7239, lng: 37.7708 },
                            '–≥–æ—Å—Ç–∞–≥–∞–µ–≤—Å–∫–∞—è': { lat: 45.02063, lng: 37.50175 }
                        };
                        
                        const getCoordinates = (location) => {
                            return knownLocations[location.toLowerCase().trim()] || null;
                        };
                        
                        const anapa = getCoordinates('–ê–Ω–∞–ø–∞');
                        if (!anapa || anapa.lat !== 44.8951) throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ê–Ω–∞–ø—ã');
                        
                        const unknown = getCoordinates('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π–ì–æ—Ä–æ–¥');
                        if (unknown !== null) throw new Error('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –≥–æ—Ä–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å null');
                        
                        return '–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                    }
                },
                {
                    name: '–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤',
                    test: () => {
                        const normalizeAddress = (address) => {
                            return address
                                .toLowerCase()
                                .trim()
                                .replace(/—ë/g, '–µ')
                                .replace(/[^\u0400-\u04FF\w\s-]/g, '') // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
                                .replace(/\s+/g, ' ');
                        };
                        
                        if (normalizeAddress('  –ê–Ω–∞–ø–∞  ') !== '–∞–Ω–∞–ø–∞') throw new Error('–ù–µ–≤–µ—Ä–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤');
                        if (normalizeAddress('–ì–æ—Å—Ç–∞–≥–∞–µ–≤—Å–∫–∞—è!!!') !== '–≥–æ—Å—Ç–∞–≥–∞–µ–≤—Å–∫–∞—è') throw new Error('–ù–µ–≤–µ—Ä–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤');
                        
                        return '–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                    }
                },
                {
                    name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è',
                    test: () => {
                        const locations = [
                            { name: '–ê–Ω–∞–ø–∞', lat: 44.8951, lng: 37.3142 },
                            { name: '–ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫', lat: 44.7239, lng: 37.7708 },
                            { name: '–ì–æ—Å—Ç–∞–≥–∞–µ–≤—Å–∫–∞—è', lat: 45.02063, lng: 37.50175 }
                        ];
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è
                        const isInKrasnodarRegion = (lat, lng) => {
                            return lat >= 44 && lat <= 46 && lng >= 36 && lng <= 42;
                        };
                        
                        for (const location of locations) {
                            if (!isInKrasnodarRegion(location.lat, location.lng)) {
                                throw new Error(`–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ${location.name} –≤–Ω–µ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è`);
                            }
                        }
                        
                        return '–í—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–º –∫—Ä–∞–µ';
                    }
                }
            ];

            runTests(tests);
        }

        // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤
        async function runAllSimpleTests() {
            clearResults();
            testResults = [];
            
            addResult('info', '–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤...', '');
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
            runBasicTests();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
            runGeocodeTests();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º API —Ç–µ—Å—Ç—ã
            await runApiTests();
            
            updateSummary();
        }

        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
        function runTests(tests) {
            tests.forEach(testCase => {
                try {
                    const result = testCase.test();
                    addResult('pass', testCase.name, result);
                } catch (error) {
                    addResult('fail', testCase.name, error.message);
                }
            });
            
            updateSummary();
        }

        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
        async function runAsyncTests(tests) {
            for (const testCase of tests) {
                try {
                    const result = await testCase.test();
                    addResult('pass', testCase.name, result);
                } catch (error) {
                    addResult('fail', testCase.name, error.message);
                }
            }
            
            updateSummary();
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç–µ—Å—Ç–∞
        function addResult(status, name, details) {
            testResults.push({ status, name, details });
            
            const resultsContainer = document.getElementById('results');
            const resultElement = document.createElement('div');
            resultElement.className = `test-result ${status}`;
            
            const icon = status === 'pass' ? '‚úÖ' : status === 'fail' ? '‚ùå' : '‚ÑπÔ∏è';
            
            resultElement.innerHTML = `
                <div class="test-name">${icon} ${name}</div>
                <div class="test-details">${details}</div>
            `;
            
            resultsContainer.appendChild(resultElement);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏
        function updateSummary() {
            const total = testResults.length;
            const passed = testResults.filter(r => r.status === 'pass').length;
            const failed = testResults.filter(r => r.status === 'fail').length;
            const successRate = total > 0 ? Math.round((passed / total) * 100) : 0;

            document.getElementById('totalTests').textContent = total;
            document.getElementById('passedTests').textContent = passed;
            document.getElementById('failedTests').textContent = failed;
            document.getElementById('successRate').textContent = successRate + '%';

            document.getElementById('summary').style.display = 'block';
        }

        // –û—á–∏—Å—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function clearResults() {
            document.getElementById('results').innerHTML = '<p style="text-align: center; color: #6c757d; font-style: italic;">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã</p>';
            document.getElementById('summary').style.display = 'none';
            testResults = [];
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            console.log('üß™ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        });
    </script>
</body>
</html>
